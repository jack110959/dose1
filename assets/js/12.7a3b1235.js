(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{364:function(s,t,a){"use strict";a.r(t);var e=a(45),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql"}},[s._v("#")]),s._v(" Sql")]),s._v(" "),a("p",[s._v("以mysql的sql为例")]),s._v(" "),a("p",[s._v("需要注意")]),s._v(" "),a("ul",[a("li",[s._v("mysql的sql不区分大小写")]),s._v(" "),a("li",[s._v("mysql的索引从1开始（java从0开始）")])]),s._v(" "),a("h2",{attrs:{id:"一-分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-分类"}},[s._v("#")]),s._v(" 一，分类")]),s._v(" "),a("h3",{attrs:{id:"_1-dml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-dml"}},[s._v("#")]),s._v(" 1，DML")]),s._v(" "),a("p",[s._v("数据操作语言，一般用与增删改查。")]),s._v(" "),a("p",[s._v("关键字：insert，update，delete，select.")]),s._v(" "),a("h3",{attrs:{id:"_2-ddl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ddl"}},[s._v("#")]),s._v(" 2，DDL")]),s._v(" "),a("p",[s._v("数据定义语言，定义数据库的各种对象")]),s._v(" "),a("p",[s._v("关键字：create，alter，drop，rename，truncate.")]),s._v(" "),a("p",[s._v("注意：该类操作执行后都会自动提交，并且不受set autocommit=false影响，所有无法进行回滚")]),s._v(" "),a("h3",{attrs:{id:"_3-dcl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-dcl"}},[s._v("#")]),s._v(" 3，DCL")]),s._v(" "),a("p",[s._v("数据控制语言，用于控制不同数据段直接的许可和访问级别的语句。这些语句定义了数据库，表，字段，用户的访问权限和安全级别。")]),s._v(" "),a("p",[s._v("关键字：commit，rollback，grant，revoke，savepoint")]),s._v(" "),a("h2",{attrs:{id:"二-dml基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-dml基本使用"}},[s._v("#")]),s._v(" 二，DML基本使用")]),s._v(" "),a("h3",{attrs:{id:"_1-单表select"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-单表select"}},[s._v("#")]),s._v(" 1，单表select")]),s._v(" "),a("h4",{attrs:{id:"_1-基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本使用"}},[s._v("#")]),s._v(" （1）基本使用")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查所有可以用*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 列名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("列名 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表名\n")])])]),a("h4",{attrs:{id:"_2-列名起别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-列名起别名"}},[s._v("#")]),s._v(" （2）列名起别名")]),s._v(" "),a("p",[s._v("关键字：as")]),s._v(" "),a("p",[s._v("可以用空格隔开后面加别名，也可以用”as“连接。")]),s._v(" "),a("p",[s._v('如果比较复杂的别名也可以用一对双引号包裹起来，比如  "user user"。')]),s._v(" "),a("p",[a("strong",[s._v("需要注意列的别名只能在order by中使用。")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" user_age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h4",{attrs:{id:"_3-去掉重复值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-去掉重复值"}},[s._v("#")]),s._v(" （3）去掉重复值")]),s._v(" "),a("p",[s._v("关键字：distinct")]),s._v(" "),a("p",[s._v("这里去掉的是各个列名都完全一样的重复值。一般放置最前，放后面可能会出现一些问题。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" user_age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" user_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h4",{attrs:{id:"_4-空值问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-空值问题"}},[s._v("#")]),s._v(" （4）空值问题")]),s._v(" "),a("p",[s._v("如果查询列有一个需要用到其他列做运算时，如果该列为null，那么运算后的值也为null。")]),s._v(" "),a("ul",[a("li",[s._v("查询时可以用IFNULL(列名,为"),a("strong",[s._v("null")]),s._v("时要赋的默认值)函数来解决。")]),s._v(" "),a("li",[s._v("也可以在一开始设计表时就让他默认值为0，缺点就是不能赋值其他的值来做运算。")])]),s._v(" "),a("p",[s._v("比如下列中，age为nul时就会使用0来做运算。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("IFNULL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h4",{attrs:{id:"_5-查看表结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-查看表结构"}},[s._v("#")]),s._v(" （5）查看表结构")]),s._v(" "),a("p",[s._v("跟设计表界面差不多，可以看各个属性的设置")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" t_user\n")])])]),a("h4",{attrs:{id:"_6-条件查询where"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-条件查询where"}},[s._v("#")]),s._v(" （6）条件查询where")]),s._v(" "),a("p",[a("strong",[s._v("A:between 下边界 and 上边界")])]),s._v(" "),a("p",[s._v("注意是闭区间，包含了上下边界。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- where age >=10 and age <=20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 不包含在里面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])])]),a("p",[a("strong",[s._v("B:in()")])]),s._v(" "),a("p",[s._v("查询in里面含有的数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- where age =10 or age =20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[a("strong",[s._v("C：like")])]),s._v(" "),a("p",[s._v("模糊查询，查询含有某个字符的数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("：表示"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("个或多个不确定字符\n_：表示一个不确定字符\n\\_：表示字符_\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 下面表示查找user中第二个字符为i，i后面的字符为_，并且后面可以有0个或多个不确定字符")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'_i\\_%'")]),s._v("\n")])])]),a("p",[a("strong",[s._v("D:null")])]),s._v(" "),a("p",[s._v("可以查询属性为"),a("strong",[s._v("null")]),s._v("的数据或不为"),a("strong",[s._v("null")]),s._v("的数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- where user is null")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n")])])]),a("h4",{attrs:{id:"_7-排序和分页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-排序和分页"}},[s._v("#")]),s._v(" （7）排序和分页")]),s._v(" "),a("p",[a("strong",[s._v("A:排序")])]),s._v(" "),a("p",[s._v("关键字：order by  列名 desc/asc")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- dese:descend,降序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- asc: ascend, 升序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--默认为升序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 多级排序按第一个开始排，有相等再按下面的排")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n")])])]),a("p",[a("strong",[s._v("B:分页")])]),s._v(" "),a("p",[s._v("关键字：limit")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 公式：pageNum页数，pageSize每页大小")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- select * from t_user limit (pageNum-1)*pageSize,pageSize")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 每页显示3条数据，查询第二页的数据")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 每页显示3条数据，查询第三页的数据")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查询年龄最大的3个人，降序后，取前3个")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-多表select"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-多表select"}},[s._v("#")]),s._v(" 2，多表select")]),s._v(" "),a("p",[s._v("简单理解结构")]),s._v(" "),a("p",[s._v("一般情况多表查询都会有两种情况，一种是匹配上了的，一种是没有匹配上的。")]),s._v(" "),a("p",[s._v("内连接：显示（1）和（2）")]),s._v(" "),a("p",[s._v("左外连接：显示（1）和（2）和（3）")]),s._v(" "),a("p",[s._v("右外连接：显示（1）和（2）和（4）")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[s._v("表一")]),s._v(" "),a("th",{staticStyle:{"text-align":"left"}},[s._v("表二")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("（1）表一匹配上的数据")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("（2）表二匹配上的数据")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("（3）表一没有匹配上的数据")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("（4）表二没有匹配上的数据")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-简单示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简单示例"}},[s._v("#")]),s._v(" （1）简单示例")]),s._v(" "),a("p",[s._v("需要注意的是：想实现n个表的多表查询至少需要n-1个连接条件。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 一般情况下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("number\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tb_orders\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t_user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tb_orders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 优化之后 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 如果没有指明哪个表的属性，就会去两个表中查找，可以给每个属性指定表名，从而提高查找效率")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n")])])]),a("h4",{attrs:{id:"_2-分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-分类"}},[s._v("#")]),s._v(" （2）分类")]),s._v(" "),a("p",[s._v("多表查询可以分为3种")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，等值连接 vs 不等值连接\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("，自连接   vs 非自连接\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("，内连接   vs 外连接\n")])])]),a("h5",{attrs:{id:"a-等值连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-等值连接"}},[s._v("#")]),s._v(" A，等值连接")]),s._v(" "),a("p",[s._v("大部分情况使用的都是等值连接。")]),s._v(" "),a("p",[s._v("即条件为等号连接")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n")])])]),a("h5",{attrs:{id:"b-不等值连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-不等值连接"}},[s._v("#")]),s._v(" B，不等值连接")]),s._v(" "),a("p",[s._v("条件为其他关键字连接")]),s._v(" "),a("p",[s._v("比如学生表中有成绩属性为数值，成绩等级表有等级，以及等级的分数范围。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("grade \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("result r\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("grade \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("last")]),s._v("\n")])])]),a("h5",{attrs:{id:"c-自连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-自连接"}},[s._v("#")]),s._v(" "),a("strong",[s._v("C，自连接")])]),s._v(" "),a("p",[s._v("自己跟自己进行多表查询。")]),s._v(" "),a("p",[s._v("比如，员工表中会有对应的上级的属性，上级也是员工的一个。")]),s._v(" "),a("p",[s._v("所以如果想查询员工属性加上上级的属性信息可以采用。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id e_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name e_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id m_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name m_name\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 对同一个表起不同的别名用做区分")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employee e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("employee m\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("managerID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n")])])]),a("h5",{attrs:{id:"d-内连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#d-内连接"}},[s._v("#")]),s._v(" D，内连接")]),s._v(" "),a("p",[s._v("关键字：join  on")]),s._v(" "),a("p",[s._v("一般情况多表查询都会有两种情况，一种是匹配上了的，一种是没有匹配上的。")]),s._v(" "),a("p",[s._v("默认情况下只显示那些匹配上了的数据，这种也就是内连接。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- inner可加可不加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 多张表继续加即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- join 表名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- on 条件")]),s._v("\n")])])]),a("h5",{attrs:{id:"e-外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#e-外连接"}},[s._v("#")]),s._v(" E，外连接")]),s._v(" "),a("p",[s._v("外连接，顾名思义，也就是连接外面那些没有匹配上的。")]),s._v(" "),a("p",[s._v("但又因为有两个表，所以也分为了左外连接和右外连接来选择显示哪张表输出没有匹配上的数据。")]),s._v(" "),a("p",[a("strong",[s._v("左外连接")]),s._v("：left outer join+on")]),s._v(" "),a("p",[s._v("下面会显示t_user表的所有数据，以及对应上的tb_orders表的数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- outer可加可不加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n")])])]),a("p",[a("strong",[s._v("右外连接")]),s._v("：right outer join+on")]),s._v(" "),a("p",[s._v("下面会显示tb_orders表的所有数据，以及对应上的t_user表的数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- outer可加可不加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n")])])]),a("p",[a("strong",[s._v("满外连接")])]),s._v(" "),a("p",[s._v("很遗憾的是"),a("strong",[s._v("mysql")]),s._v("中不支持"),a("strong",[s._v("full join")]),s._v("这个关键字")]),s._v(" "),a("p",[s._v("如果在其他数据库可以这样使用")]),s._v(" "),a("p",[s._v("这样就可以将两种表中没有对应上的都各自查询出来。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("full")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n")])])]),a("p",[s._v("不过也可以使用"),a("strong",[s._v("union all")]),s._v("或"),a("strong",[s._v("union")]),s._v("来通过各种搭配得到我们所想要的部分数据")]),s._v(" "),a("p",[s._v("一般推荐使用"),a("strong",[s._v("union all")]),s._v("，因为union会有去掉重复数据的操作，这多余的去重操作也会耗费时间。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("union")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user u "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tb_orders o\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id\n")])])]),a("h3",{attrs:{id:"_3-插入insert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-插入insert"}},[s._v("#")]),s._v(" 3，插入insert")]),s._v(" "),a("p",[s._v("insert into 表名 （列名，列名）values(数值型，'字符型'，'date型')")]),s._v(" "),a("h4",{attrs:{id:"_1-普通插入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-普通插入"}},[s._v("#")]),s._v(" （1）普通插入")]),s._v(" "),a("p",[s._v("根据指定列名对应插入，顺序可不同。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" emp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h4",{attrs:{id:"_2-基于其他表插入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-基于其他表插入"}},[s._v("#")]),s._v(" （2）基于其他表插入")]),s._v(" "),a("p",[s._v("插入的列名和列数要跟查询的列名的数值类型要一致")]),s._v(" "),a("p",[s._v("类型的大小尽量保持一样大小，没有超出时不会报错。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" emp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("grade "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h3",{attrs:{id:"_4-删除delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-删除delete"}},[s._v("#")]),s._v(" 4，删除delete")]),s._v(" "),a("p",[s._v("delete from......where......")]),s._v(" "),a("p",[s._v("没有where就是删除所有")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" emp "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("\n")])])]),a("h3",{attrs:{id:"_5-修改update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改update"}},[s._v("#")]),s._v(" 5，修改update")]),s._v(" "),a("p",[s._v("update 表名 set 列名=新值 where ......")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" tb_orders "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" duetime"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-09-03'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),a("h2",{attrs:{id:"三-函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-函数"}},[s._v("#")]),s._v(" 三，函数")]),s._v(" "),a("h3",{attrs:{id:"_1-单行函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-单行函数"}},[s._v("#")]),s._v(" 1，单行函数")]),s._v(" "),a("h4",{attrs:{id:"_1-字符串类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-字符串类型"}},[s._v("#")]),s._v(" （1）字符串类型")]),s._v(" "),a("p",[s._v("自带隐式转换，如果属性为int类型会自动转为字符串。")]),s._v(" "),a("p",[s._v("基本能够取得任意位置的字符串，或替换他")]),s._v(" "),a("p",[s._v("下面只列举几种常用的方法")]),s._v(" "),a("h5",{attrs:{id:"a-concat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-concat"}},[s._v("#")]),s._v(" "),a("strong",[s._v("A，concat")])]),s._v(" "),a("p",[s._v("可以将多列字符串类型的值组合成一个")]),s._v(" "),a("p",[s._v("下列将user和action组合成新列detail，也可以加上自己定义的字符串，比如'去’。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'去'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" detail\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h5",{attrs:{id:"b-concat-ws"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-concat-ws"}},[s._v("#")]),s._v(" B，concat_ws")]),s._v(" "),a("p",[s._v("这个函数可以把多列结合起来并以某个字符连接起来")]),s._v(" "),a("p",[s._v("下列用'-'连接起来")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat_ws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" detail\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h5",{attrs:{id:"c-左-右对齐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-左-右对齐"}},[s._v("#")]),s._v(" C，左/右对齐")]),s._v(" "),a("p",[s._v("针对列中可能会出现字符数量不一致的情况，比如地址什么的，能够统一规范。")]),s._v(" "),a("p",[s._v("lpad：右对齐")]),s._v(" "),a("p",[s._v("rpad：左对齐")]),s._v(" "),a("p",[s._v("第一个参数为列名，第二个参数为补齐多少位，第三个参数补齐使用的字符")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" lpad"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("rpad"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h5",{attrs:{id:"d-insert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#d-insert"}},[s._v("#")]),s._v(" D，insert")]),s._v(" "),a("p",[s._v("查询某个列名时，可以用这个函数来替换某些位置的字符")]),s._v(" "),a("p",[s._v("insert(列名,开始位置,替换几个,'用来替换的字符')")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'替换'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h5",{attrs:{id:"e-strcmp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#e-strcmp"}},[s._v("#")]),s._v(" E，strcmp")]),s._v(" "),a("p",[s._v("比较字符串，返回1，0，-1中的一个。")]),s._v(" "),a("p",[s._v("strcmp（列名，列名）")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" strcmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h4",{attrs:{id:"_2-数值类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-数值类型"}},[s._v("#")]),s._v(" （2）数值类型")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("函数")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("作用")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("ABS(x)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回x的绝对值")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("CEIL(x)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回大于x的最小整数值")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("FLOOF(x)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回小于x的最大整数值")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("MOD(x,y)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回x/y的模")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("RAND()")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回0—1的随机值")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("ROUND(x,y)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回参数x的四舍五入的有y位的小数的值")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("TRUNCATE(x,y)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回数字x截断为y位小数的结果")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("SQRT(x)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回x的平方根")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("POW(x,y)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回x的y次方")])])])]),s._v(" "),a("p",[s._v("示例")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" FLOOR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("rand"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("FLOOR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h4",{attrs:{id:"_3-日期类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-日期类型"}},[s._v("#")]),s._v(" （3）日期类型")]),s._v(" "),a("h5",{attrs:{id:"a-获取当前日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-获取当前日期"}},[s._v("#")]),s._v(" A，获取当前日期")]),s._v(" "),a("p",[s._v("年-月-日")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" curdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CURRENT_DATE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("h5",{attrs:{id:"b-获取当前时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-获取当前时间"}},[s._v("#")]),s._v(" B，获取当前时间")]),s._v(" "),a("p",[s._v("时：分：秒")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" curtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CURRENT_TIME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("h5",{attrs:{id:"c-获取当前日期时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-获取当前日期时间"}},[s._v("#")]),s._v(" C，获取当前日期时间")]),s._v(" "),a("p",[s._v("年-月-日 时：分：秒")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sysdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("h5",{attrs:{id:"d-获取独立的时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#d-获取独立的时间"}},[s._v("#")]),s._v(" D，获取独立的时间")]),s._v(" "),a("p",[s._v("独立的年月日时分秒")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("minute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("second")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("h5",{attrs:{id:"e-获取星期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#e-获取星期"}},[s._v("#")]),s._v(" E，获取星期")]),s._v(" "),a("ul",[a("li",[s._v("week(curdate())：返回一年中的第几周")]),s._v(" "),a("li",[s._v("dayofweek(curdate())：返回周几，周日是1，周六是7")]),s._v(" "),a("li",[s._v("weekday(curdate())：返回周几，周一是0，周日是6")]),s._v(" "),a("li",[s._v("dayname(curdate())：返回星期几")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" week"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("curdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("dayofweek"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("curdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("weekday"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("curdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("dayname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("curdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("h5",{attrs:{id:"f-获取相隔多少的日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#f-获取相隔多少的日期"}},[s._v("#")]),s._v(" F，获取相隔多少的日期")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 获取当前时间的下一年")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" date_add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 获取当前时间的上一月")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" date_add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 也可以搭配使用，用'_'分开，要有单引号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 获取当前时间的上一年的下个月")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" date_add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-1_1'")]),s._v(" year_month"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("p",[s._v("适用场景，订单信息表插人时可以自己计算到期时间")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" tb_orders "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'21312'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("date_add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h5",{attrs:{id:"g-获取距离当前时间的时间差"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#g-获取距离当前时间的时间差"}},[s._v("#")]),s._v(" G，获取距离当前时间的时间差")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" datediff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" myempty\n")])])]),a("p",[s._v("适用场景，查询到期时间在现在或之后的15天内的所有数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- paytime大返回正。小返回负")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" datediff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("paytime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("\n")])])]),a("h5",{attrs:{id:"h-字符串-时间的转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#h-字符串-时间的转换"}},[s._v("#")]),s._v(" H，字符串-时间的转换")]),s._v(" "),a("p",[s._v("时间转字符串")]),s._v(" "),a("p",[s._v("适用场景，取出数据库表数据就可以使用字符串来接收")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" date_format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("paytime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %h:%i:%s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 输出格式为：2021-07-18 12:58:00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 可以通过修改'%Y-%m-%d %h:%i:%s'来获取自己需要的格式")]),s._v("\n")])])]),a("p",[s._v("字符串转时间")]),s._v(" "),a("p",[s._v("适用场景，前端传来的时间字符串在插入数据库表时进行解析")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" str_to_date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2021-07-18 12:58:00'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h4",{attrs:{id:"_4-流程控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-流程控制"}},[s._v("#")]),s._v(" （4）流程控制")]),s._v(" "),a("h5",{attrs:{id:"a-二选一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-二选一"}},[s._v("#")]),s._v(" A，二选一")]),s._v(" "),a("p",[s._v("if")]),s._v(" "),a("p",[s._v("使用场景：对null的一种处理方法")]),s._v(" "),a("p",[s._v("根据列值判断的返回结果选择显示哪些信息")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 年龄大于60就显示高龄，低于60就显示低龄")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'高龄'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'低龄'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 下面两个if是等价的，如果成绩没有录入，数据库表就为null，为nul就显示0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("grade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nifnull"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("grade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h5",{attrs:{id:"b-多选一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-多选一"}},[s._v("#")]),s._v(" B，多选一")]),s._v(" "),a("p",[s._v("case-when-条件-then-end")]),s._v(" "),a("p",[s._v("使用场景：一般可以用于表示状态state，或者身份。在数据库使用数据存储，取出时再还原")]),s._v(" "),a("p",[a("strong",[s._v("when相当于java中的else if")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 按成绩的区间显示等级")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'优秀'")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'良好'")]),s._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'中等'")]),s._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'及格'")]),s._v(" \n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'不及格'")]),s._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'成绩'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h5",{attrs:{id:"c-结果判断"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-结果判断"}},[s._v("#")]),s._v(" C，结果判断")]),s._v(" "),a("p",[s._v("case-列名-when-值-then-end")]),s._v(" "),a("p",[s._v("等价于java中的switch if")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" grade "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'优秀'")]),s._v("\n                     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'良好'")]),s._v("\n\t\t\t\t\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'中等'")]),s._v("\n\t\t\t\t\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'及格'")]),s._v(" \n\t\t\t\t\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'不及格'")]),s._v("\n\t\t\t\t\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'成绩'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n")])])]),a("h4",{attrs:{id:"_5-其他类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-其他类型"}},[s._v("#")]),s._v(" （5）其他类型")]),s._v(" "),a("h5",{attrs:{id:"a-返回数据库信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-返回数据库信息"}},[s._v("#")]),s._v(" A，返回数据库信息")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 数据库名，版本号，登录用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h5",{attrs:{id:"b-加密函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-加密函数"}},[s._v("#")]),s._v(" B，加密函数")]),s._v(" "),a("p",[s._v("需要注意：")]),s._v(" "),a("p",[a("strong",[s._v("mysql 8.0版本移除了password函数")])]),s._v(" "),a("p",[s._v("通常用于对密码加密，没有解密方法，一般都是通过比较加密之后的数值。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- mds加密，比较常用，32位")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" md5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'abcd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- SHA1加密，40位")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" SHA1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("ul",[a("li",[s._v("password用于修改mysql的用户密码，如果是应用与web程序建议使用md5()函数")]),s._v(" "),a("li",[s._v("password函数旧版16位，新版41位，可用select length(password('123456'))察看。")]),s._v(" "),a("li",[s._v("password函数加密不可逆，如果和数据库里加密后内容比较时可以采用password(pwd)==字段内容的方式")]),s._v(" "),a("li",[s._v("md5函数加密后32位，此加密算法不可逆，其实md5算法是信息摘要算法，如果拿来做压缩也是有损压缩，理论上即使有反向算法也无法恢复信息原样。他常被用来检验下载数据的完整性。如好多软件都提供md5码，供用户下载完毕校验完整性。")])]),s._v(" "),a("p",[a("strong",[s._v("SHA-1与MD5的比较")])]),s._v(" "),a("p",[s._v("因为二者均由MD4导出，SHA-1和MD5彼此很相似。相应的，他们的强度和其他特性也是相似。")]),s._v(" "),a("p",[s._v("但还有以下几点不同：")]),s._v(" "),a("ol",[a("li",[s._v("对强行攻击的安全性：最显著和最重要的区别是SHA-1摘要比MD5摘要长32 位。使用强行技术，产生任何一个报文使其摘要等于给定报摘要的难度对MD5是2128数量级的操作，而对SHA-1则是2160数量级的操作。这样，SHA-1对强行攻击有更大的强度。")]),s._v(" "),a("li",[s._v("对密码分析的安全性：由于MD5的设计，易受密码分析的攻击，SHA-1显得不易受这样的攻击。")]),s._v(" "),a("li",[s._v("速度：在相同的硬件上，SHA-1的运行速度比MD5慢。")])]),s._v(" "),a("h5",{attrs:{id:"c-破解方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-破解方法"}},[s._v("#")]),s._v(" C，破解方法")]),s._v(" "),a("p",[s._v("虽然没有逆推的方法，但可以通过映射的方法得到加密前的数值")]),s._v(" "),a("p",[s._v("可以通过下面的映射网站，就可以根据md5加密后的密文还原成明文。")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.cmd5.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("md5映射网站"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_2-组函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-组函数"}},[s._v("#")]),s._v(" 2，组函数")]),s._v(" "),a("h4",{attrs:{id:"_1-5个常用组函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5个常用组函数"}},[s._v("#")]),s._v(" （1）5个常用组函数")]),s._v(" "),a("h5",{attrs:{id:"a-avg-sum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-avg-sum"}},[s._v("#")]),s._v(" A，avg(),sum()")]),s._v(" "),a("p",[s._v("适用类型：数值类型")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- avg(num)平均数，sum(num)总数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n")])])]),a("h5",{attrs:{id:"b-min-max"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-min-max"}},[s._v("#")]),s._v(" B，min(),max()")]),s._v(" "),a("p",[s._v("适用类型：数值类型，字符串类型，日期类型。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 最大值与最小值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("paytime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n")])])]),a("h5",{attrs:{id:"c-count"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-count"}},[s._v("#")]),s._v(" C，count()")]),s._v(" "),a("p",[s._v("适用类型：数值类型，字符串类型，日期类型。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 一般情况如果统计表的总条数可以使用下面的任意一个")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 如果想查找某个列名不为null的个数，就采用下面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n")])])]),a("p",[s._v("关系：avg=sum/count")]),s._v(" "),a("h4",{attrs:{id:"_2-分组函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-分组函数"}},[s._v("#")]),s._v(" （2）分组函数")]),s._v(" "),a("p",[s._v("group by 列名：表示按哪个列名分组")]),s._v(" "),a("p",[s._v("适用场景：")]),s._v(" "),a("p",[s._v("查询公司每个部门的平均工资")]),s._v(" "),a("p",[s._v("查询不同活动的人的平均年龄等")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 将每个行为的人分为一组，再计算各组的平均ni")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),s._v("\n")])])]),a("p",[a("strong",[s._v("需要注意")])]),s._v(" "),a("p",[s._v("当组函数与非组函数进行查询时，非组函数一定要写在group by 中。")]),s._v(" "),a("h4",{attrs:{id:"_3-having"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-having"}},[s._v("#")]),s._v(" （3）having")]),s._v(" "),a("p",[s._v("当条件中出现组函数时，需要将where替换成having，并放置于group by后面")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 有组函数avg，使用having")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("having")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),a("h3",{attrs:{id:"_3-总流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-总流程"}},[s._v("#")]),s._v(" 3，总流程")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select ........\nfrom ....(left outer/right outer) join... on ....\nwhere 非组函数的过滤条件\ngroup by ......\nhaving 组函数的过滤条件\norder by ... asc/desc,....asc/desc\nlimit ......,......\n")])])]),a("h2",{attrs:{id:"四-子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-子查询"}},[s._v("#")]),s._v(" 四，子查询")]),s._v(" "),a("h3",{attrs:{id:"_1-单行子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-单行子查询"}},[s._v("#")]),s._v(" 1，单行子查询")]),s._v(" "),a("p",[s._v("基本运算符")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查询超过平均年龄的人的所有信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-多行子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-多行子查询"}},[s._v("#")]),s._v(" 2，多行子查询")]),s._v(" "),a("p",[s._v("in，any（任一个），all")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查询办过订单的用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" user_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tb_orders\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h3",{attrs:{id:"_3-exists"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-exists"}},[s._v("#")]),s._v(" 3，exists")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查询为管理id的id的员工信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employee e1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exists")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employee e2\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" e1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("e2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("managerID\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),s._v("\n")])])]),a("h2",{attrs:{id:"五-数据库操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-数据库操作"}},[s._v("#")]),s._v(" 五，数据库操作")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 1，创建数据库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 数据库名\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 2，查看所有数据库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("databases")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 3，查看所有数据库表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" 数据库名\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 4，删除数据库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" boot_crm\n")])])]),a("h2",{attrs:{id:"六-表操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-表操作"}},[s._v("#")]),s._v(" 六，表操作")]),s._v(" "),a("h3",{attrs:{id:"_1-表操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-表操作"}},[s._v("#")]),s._v(" 1，表操作")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 1，普通创建")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp{\nid "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- varchar可变字符，能够自己扩展，必须赋size值")]),s._v("\nname "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ngrade "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("double")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\npaytime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("date")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 可以通过起别名为新表列名重新命名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 2，在其他表的基础上创建表，会有其他表的数据")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 3，如果不需要数据，只需要让查询结果为空即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 4，修改表名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 原表名 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" 新表名\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 5，删除表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 6，清空表数据，保留表结构")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("truncate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 7，truncate与delete的区别")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("truncate")]),s._v("操作之后不能进行回滚\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("可以回滚\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 8，提交与回滚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 提交，默认情况下都是会自动提交的，可以使用set autocommit=false来关闭")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 回滚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-列的增删改查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-列的增删改查"}},[s._v("#")]),s._v(" 2，列的增删改查")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建新列")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" newcolunm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除列")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" newcolunm\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改列（类型，数值）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("modify")]),s._v(" newcolunm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("h2",{attrs:{id:"七-约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七-约束"}},[s._v("#")]),s._v(" 七，约束")]),s._v(" "),a("h4",{attrs:{id:"_1-分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-分类"}},[s._v("#")]),s._v(" 1，分类")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 角度一（从声明的位置）：列级约束  vs  表级约束")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 角度二（从作用的列的数量上）：单列约束  vs  多列约束")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 角度三（从功能上区分）：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" ： 非空约束\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),s._v(" ： 唯一性约束\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" ： 主键约束\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("foreign")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" ： 外键约束\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" ： 检查约束\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" ： 默认值约束\n")])])]),a("h4",{attrs:{id:"_2-使用与修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用与修改"}},[s._v("#")]),s._v(" 2，使用与修改")]),s._v(" "),a("p",[s._v("在创建表中使用，使用alter修改")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nid "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("auto_increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nmyname "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nemp_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nphone  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10086")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 表级约束写在最后，emp2_phone_uk为约束名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" emp3_phone_uk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("phone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" emp3_id_pk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" emp3_fk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("foreign")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("emp_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("references")]),s._v(" emp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看所有索引")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" emp3\n")])])]),a("h4",{attrs:{id:"_1-not-null"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-not-null"}},[s._v("#")]),s._v(" （1）not null")]),s._v(" "),a("p",[s._v("列不为空")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp2\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("modify")]),s._v(" myname "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n")])])]),a("h4",{attrs:{id:"_2-unique"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-unique"}},[s._v("#")]),s._v(" （2）unique")]),s._v(" "),a("p",[s._v("唯一性约束")]),s._v(" "),a("p",[s._v("使用unique会自动创建索引，默认名为列名")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改是对索引进行修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 添加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" emp3_id_uk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 组合索引如果指定索引名，在删除时指定第一个列名即可，如上面的id")]),s._v("\n")])])]),a("h4",{attrs:{id:"_3-主键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-主键约束"}},[s._v("#")]),s._v(" （3）主键约束")]),s._v(" "),a("p",[s._v("primary key：既满足了唯一性，又满足了非空性。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改，主键只能有一个，删除主键即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除，有自动递增时无法删除")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("\n")])])]),a("h4",{attrs:{id:"_4-外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-外键约束"}},[s._v("#")]),s._v(" （4）外键约束")]),s._v(" "),a("p",[s._v("foreign key：能够多表限制")]),s._v(" "),a("p",[s._v("在开发中，一般不建议使用外键约束，尽量在java代码中进行判断")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除外键")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("foreign")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" emp3_fk\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 添加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" emp3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" emp3_fk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("foreign")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("emp_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("references")]),s._v(" emp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h4",{attrs:{id:"_5-检查约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-检查约束"}},[s._v("#")]),s._v(" （5）检查约束")]),s._v(" "),a("p",[s._v("check：加入限制条件")]),s._v(" "),a("p",[s._v("在mysql中会失效，依旧可以插入成功")]),s._v(" "),a("h4",{attrs:{id:"_6-默认约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-默认约束"}},[s._v("#")]),s._v(" （6）默认约束")]),s._v(" "),a("p",[s._v("default，插入时没有赋值就会采用默认值")])])}),[],!1,null,null,null);t.default=n.exports}}]);