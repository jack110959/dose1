<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringMVC注解式开发 | 有空看看</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/dose1/assets/css/0.styles.c9546c7c.css" as="style"><link rel="preload" href="/dose1/assets/js/app.370f2ecb.js" as="script"><link rel="preload" href="/dose1/assets/js/2.579f079f.js" as="script"><link rel="preload" href="/dose1/assets/js/27.a5ca9c28.js" as="script"><link rel="prefetch" href="/dose1/assets/js/10.15b385d2.js"><link rel="prefetch" href="/dose1/assets/js/11.7719a193.js"><link rel="prefetch" href="/dose1/assets/js/12.7a3b1235.js"><link rel="prefetch" href="/dose1/assets/js/13.bf569039.js"><link rel="prefetch" href="/dose1/assets/js/14.f04af72a.js"><link rel="prefetch" href="/dose1/assets/js/15.cae4f64f.js"><link rel="prefetch" href="/dose1/assets/js/16.28681f08.js"><link rel="prefetch" href="/dose1/assets/js/17.54584c3d.js"><link rel="prefetch" href="/dose1/assets/js/18.4b466fb7.js"><link rel="prefetch" href="/dose1/assets/js/19.882f21ee.js"><link rel="prefetch" href="/dose1/assets/js/20.6d8d7aa6.js"><link rel="prefetch" href="/dose1/assets/js/21.ed3f43c1.js"><link rel="prefetch" href="/dose1/assets/js/22.b9fd778f.js"><link rel="prefetch" href="/dose1/assets/js/23.2563d097.js"><link rel="prefetch" href="/dose1/assets/js/24.33dab2d6.js"><link rel="prefetch" href="/dose1/assets/js/25.35b2c93b.js"><link rel="prefetch" href="/dose1/assets/js/26.fa63a29b.js"><link rel="prefetch" href="/dose1/assets/js/28.c8d6aeb7.js"><link rel="prefetch" href="/dose1/assets/js/29.bc350787.js"><link rel="prefetch" href="/dose1/assets/js/3.dddbab9e.js"><link rel="prefetch" href="/dose1/assets/js/4.dacb7f3f.js"><link rel="prefetch" href="/dose1/assets/js/5.516cbc1e.js"><link rel="prefetch" href="/dose1/assets/js/6.c1a5c5b5.js"><link rel="prefetch" href="/dose1/assets/js/7.eb3c1009.js"><link rel="prefetch" href="/dose1/assets/js/8.7ced4e1e.js"><link rel="prefetch" href="/dose1/assets/js/9.fb95937f.js">
    <link rel="stylesheet" href="/dose1/assets/css/0.styles.c9546c7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dose1/" class="home-link router-link-active"><img src="/dose1/assets/img/logo.jpg" alt="有空看看" class="logo"> <span class="site-name can-hide">有空看看</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dose1/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/datarepo/mysql/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/mybefore/mybase/前端基础.html" class="nav-link">
  三件套
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myjQuery/jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myajax/ajax.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue3/Vue3.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/springpre/pre.html" class="nav-link">
  spring前言
</a></li><li class="dropdown-item"><!----> <a href="/dose1/springmvc/springmvc.html" class="nav-link">
  springMVC
</a></li><li class="dropdown-item"><!----> <a href="/dose1/SpringBoot2/SpringBootFirst.html" class="nav-link">
  springBoot2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/one.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/other/newJava.html" class="nav-link">
  java8新特性
</a></li><li class="dropdown-item"><!----> <a href="/dose1/other/HashMap.html" class="nav-link">
  hashmap
</a></li><li class="dropdown-item"><!----> <a href="https://jojo-995.gitee.io/2021/03/06/markdown-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div> <a href="https://github.com/jack110959/dose1" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dose1/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/datarepo/mysql/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/mybefore/mybase/前端基础.html" class="nav-link">
  三件套
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myjQuery/jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myajax/ajax.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue3/Vue3.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/springpre/pre.html" class="nav-link">
  spring前言
</a></li><li class="dropdown-item"><!----> <a href="/dose1/springmvc/springmvc.html" class="nav-link">
  springMVC
</a></li><li class="dropdown-item"><!----> <a href="/dose1/SpringBoot2/SpringBootFirst.html" class="nav-link">
  springBoot2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/one.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/other/newJava.html" class="nav-link">
  java8新特性
</a></li><li class="dropdown-item"><!----> <a href="/dose1/other/HashMap.html" class="nav-link">
  hashmap
</a></li><li class="dropdown-item"><!----> <a href="https://jojo-995.gitee.io/2021/03/06/markdown-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div> <a href="https://github.com/jack110959/dose1" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Springmvc</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dose1/springmvc/springmvc.html" class="sidebar-link">SpringMvc总体</a></li><li><a href="/dose1/springmvc/springmvcfirst.html" class="sidebar-link">SpringMVC配置式开发</a></li><li><a href="/dose1/springmvc/sprngmvcSecond.html" aria-current="page" class="active sidebar-link">SpringMVC注解式开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#一-基本配置" class="sidebar-link">一，基本配置</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#二-注解用法" class="sidebar-link">二，@注解用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_1-requestmapping用法" class="sidebar-link">1，@RequestMapping用法</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_2-校正请求参数名-requestparam" class="sidebar-link">2，校正请求参数名@RequestParam</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_3-路径变量-pathvariable" class="sidebar-link">3，路径变量@PathVariable</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#三-处理器方法的参数" class="sidebar-link">三，处理器方法的参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_1-逐个参数接收" class="sidebar-link">1，逐个参数接收</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_2-整体参数接收" class="sidebar-link">2，整体参数接收</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_3-域属性参数的接收" class="sidebar-link">3，域属性参数的接收</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#四-请求参数中文乱码问题" class="sidebar-link">四，请求参数中文乱码问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_1-过滤器基本配置" class="sidebar-link">1，过滤器基本配置</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_2-查看源码" class="sidebar-link">2，查看源码</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#五-处理器方法的返回值" class="sidebar-link">五，处理器方法的返回值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_1-返回modelandview" class="sidebar-link">1，返回ModelAndView</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_2-返回string" class="sidebar-link">2，返回String</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_3-返回void" class="sidebar-link">3，返回void</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/sprngmvcSecond.html#_4-返回object" class="sidebar-link">4，返回object</a></li></ul></li></ul></li><li><a href="/dose1/springmvc/sprngmvcThird.html" class="sidebar-link">SpringMVC核心技术</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="springmvc注解式开发"><a href="#springmvc注解式开发" class="header-anchor">#</a> SpringMVC注解式开发</h1> <h2 id="一-基本配置"><a href="#一-基本配置" class="header-anchor">#</a> 一，基本配置</h2> <p><strong>注册组件扫描器</strong></p> <p>这里的组件即处理器，需要指定处理器所在基本包。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.itheima.controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><strong>定义处理器</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/User&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;User&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">/* 返回值根据视图解析器 */</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="二-注解用法"><a href="#二-注解用法" class="header-anchor">#</a> 二，@注解用法</h2> <h3 id="_1-requestmapping用法"><a href="#_1-requestmapping用法" class="header-anchor">#</a> 1，@RequestMapping用法</h3> <p>一般将模块路径写在类上，然后方法上写一个路径即可</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/xx/oo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/User&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>下面就是<strong>几种特殊情况</strong>的使用</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*value属性，可直接写/user*/</span>

<span class="token comment">/* 表示user与/xx/oo必须要有一级路径 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/*/User&quot;</span><span class="token punctuation">)</span>

<span class="token comment">/* 表示selectUser与/xx/oo可以包含多级路径，也可以没有其他路径 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/**/selectUser&quot;</span><span class="token punctuation">)</span>

<span class="token comment">/* 若有多个请求路径均可匹配该处理器方法的执行，则@RequestMapping的value属性中可以写上一个数组*/</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/*hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/yy&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">/*params属性*/</span>
<span class="token comment">/* 可以加入params属性来限制请求必须带哪个参数，禁止带哪个参数，下面的情况下只有带age参数并且不带name参数才不会报404 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/*hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/yy&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>params<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;!name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ag=23&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;cg!=23&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


</code></pre></div><h3 id="_2-校正请求参数名-requestparam"><a href="#_2-校正请求参数名-requestparam" class="header-anchor">#</a> 2，校正请求参数名@RequestParam</h3> <p>所谓校正请求参数名，是指若<strong>请求URL所携带的参数名称</strong>与<strong>处理方法中指定的参数名</strong>不相同时，则需在处理方法参数前，添加一个注解@RequestParam(“请求参数名”)，指定请求URL所携带参数的名称。该注解是对<strong>处理器方法参数</strong>进行修饰的。</p> <p>@RequestParam()有三个属性：</p> <ul><li>value：指定请求参数的名称。</li> <li>required：指定该注解所修饰的参数是否是必须的，boolean类型。若为true，则表示请求中所携带的参数中必须包含当前参数。若为false，则表示有没有均可。</li> <li>defaultValue：指定当前参数的默认值。若请求URI中没有给出当前参数，则当前方法参数将取该默认值。即使required为true，且<strong>URI中没有给出当前参数（注意是没有，而不是null）</strong>，该处理器方法参数会自动取该默认值，而不会报错</li></ul> <p>下列代码只对参数name进行修饰，value=&quot;username&quot;即name=username的值。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span>defaultValue<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-路径变量-pathvariable"><a href="#_3-路径变量-pathvariable" class="header-anchor">#</a> 3，路径变量@PathVariable</h3> <p>将路径中的值赋值给处理方法的形参。</p> <p>对于处理器方法中所接收的请求参数，可以来自于请求中所携带的参数，也可以来自于请求的URI中所携带的变量，即路径变量。不过，此时，需要借助@PathVariable注解。</p> <p>@PathVariable在不指定参数的情况下，默认其参数名，即路径变量名与用于接收其值的属性名相同。若路径变量名与用于接收其值的属性名不同，则@PathVariable可通过参数指出路径变量名称。</p> <p>前端请求路径</p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;form action=&quot;${pageContext.request.contextPath}/1/2/testsecond&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
</code></pre></div><p>控制层接收，当{pame}与方法参数名不同时需要配置@PathVariable的vcalue。一样时直接加注解即可。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/{pame}/{age}/testsecond&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testsecond</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;pame&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token keyword">int</span> age<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="三-处理器方法的参数"><a href="#三-处理器方法的参数" class="header-anchor">#</a> 三，处理器方法的参数</h2> <p>处理器方法可以包含以下五类参数，这些参数会在系统调用时由系统自动赋值，即程序员可在方法内直接使用。</p> <ul><li>HttpServletRequest</li> <li>HttpServletResponse</li> <li>HttpSession</li> <li>用于承载数据的Model</li> <li>请求中所携带的请求参数</li></ul> <p>这里只举例讲解一下第五类参数：请求中所携带的请求参数。即处理器方法是如何接收请求参数的。</p> <h3 id="_1-逐个参数接收"><a href="#_1-逐个参数接收" class="header-anchor">#</a> 1，逐个参数接收</h3> <p>只要保证请求参数名与该请求处理方法的<strong>参数名</strong>相同即可。</p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;form action=&quot;${pageContext.request.contextPath}/test&quot;&gt;
姓名：&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;
年龄：&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;br&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
</code></pre></div><p>提交之后到控制层方法，在方法形参处定义类型接收，内部会自动进行转型。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>java
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-整体参数接收"><a href="#_2-整体参数接收" class="header-anchor">#</a> 2，整体参数接收</h3> <p>将处理器方法的参数定义为一个<strong>对象</strong>，只要保证<strong>请求参数名与</strong>这个<strong>对象的属性同名</strong>即可。参数名称中不用写为“对象.属性”的形式。</p> <p>前端页面一样，需要创建一个pojo类来接收，属性名必须与前端参数名一致</p> <p>pojo类Person的属性</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
<span class="token comment">//getter and setter</span>
<span class="token comment">//toString()</span>
</code></pre></div><p>控制层方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/testone&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testone</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-域属性参数的接收"><a href="#_3-域属性参数的接收" class="header-anchor">#</a> 3，域属性参数的接收</h3> <p>所谓域属性，即对象属性。当请求参数中的数据为某类对象域属性的属性值时，要求请求参数名为“域属性名.属性”。</p> <p>pojo类Person的属性</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">School</span> school<span class="token punctuation">;</span>
<span class="token comment">//getter and setter</span>
<span class="token comment">//toString()</span>
</code></pre></div><p>pojo类School的属性</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> schoolname<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> schoolage<span class="token punctuation">;</span>
<span class="token comment">//getter and setter</span>
<span class="token comment">//toString()</span>
</code></pre></div><p>前端页面，属性为某个类时需要写成<strong>类.属性</strong>,如school.schoolname。</p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;form action=&quot;${pageContext.request.contextPath}/testone&quot;&gt;
姓名：&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;
年龄：&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;br&gt;
学校：&lt;input type=&quot;text&quot; name=&quot;school.schoolname&quot;&gt;&lt;br&gt;
学校年龄：&lt;input type=&quot;text&quot; name=&quot;school.schoolage&quot;&gt;&lt;br&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
</code></pre></div><p>控制层创建对象接收并存入model</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/testone&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testone</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;school&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getSchool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>success页面获取model数据</p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;body&gt;
${username}&lt;br/&gt;
${age}&lt;br/&gt;
${school.schoolname}&lt;br/&gt;
${school.schoolage}&lt;br/&gt;
&lt;/body&gt;
</code></pre></div><h2 id="四-请求参数中文乱码问题"><a href="#四-请求参数中文乱码问题" class="header-anchor">#</a> 四，请求参数中文乱码问题</h2> <p>对于所接收的请求参数，若含有中文，则会出现中文乱码问题。Spring对于请求参数中的中文乱码问题，给出了专门的字符集过滤器：spring-web-4.2.1.RELEASE.jar的org.springframework.web.filter包下的CharacterEncodingFilter类。也就是<strong>过滤器</strong>。</p> <h3 id="_1-过滤器基本配置"><a href="#_1-过滤器基本配置" class="header-anchor">#</a> <strong>1，过滤器基本配置</strong></h3> <p>基本配置·与servlet类似，位置无所谓。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- init-param用来配置属性值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>forceRequestEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-查看源码"><a href="#_2-查看源码" class="header-anchor">#</a> 2，查看源码</h3> <p>encoding和forceEncoding为我们所设置的值，下面为类内部实现设置的过程</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*属性部分*/</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> encoding<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> forceRequestEncoding <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> forceResponseEncoding <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">/*主方法部分*/</span>
<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doFilterInternal</span><span class="token punctuation">(</span>
			<span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span>
			<span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        
		<span class="token class-name">String</span> encoding <span class="token operator">=</span> <span class="token function">getEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">/*在判断设置了字符编码之后才通过判断来指定是否强制使用指定的字符集*/</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>encoding <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isForceRequestEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> request<span class="token punctuation">.</span><span class="token function">getCharacterEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isForceResponseEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><h2 id="五-处理器方法的返回值"><a href="#五-处理器方法的返回值" class="header-anchor">#</a> 五，处理器方法的返回值</h2> <p>使用@Controller注解的处理器的处理器方法，其返回值常用的有四种类型：</p> <ul><li>第一种：ModelAndView</li> <li>第二种：String</li> <li>第三种：无返回值void</li> <li>第四种：返回自定义类型对象</li></ul> <p>根据不同的情况，使用不同的返回值</p> <h3 id="_1-返回modelandview"><a href="#_1-返回modelandview" class="header-anchor">#</a> 1，返回ModelAndView</h3> <p>若处理器方法处理完后，需要跳转到其它资源，且又要在跳转的资源间传递数据，此时处理器方法返回ModelAndView比较好。</p> <p>当然，若要返回ModelAndView，则处理器方法中需要定义ModelAndView对象。在使用时，若该处理器方法只是进行跳转而不传递数据，或只是传递数据而并不向任何资源跳转（如对页面的Ajax异步响应），此时若返回ModelAndView，则将总是有一部分多余：要么Model多余，要么View多余。即此时返回ModelAndView将不合适。</p> <h3 id="_2-返回string"><a href="#_2-返回string" class="header-anchor">#</a> 2，返回String</h3> <p>处理器方法返回的字符串可以指定逻辑视图名，通过视图解析器解析可以将其转换为物理视图地址。</p> <h4 id="_1-返回内部资源逻辑视图名"><a href="#_1-返回内部资源逻辑视图名" class="header-anchor">#</a> （1）返回内部资源逻辑视图名</h4> <p>若要跳转的资源为<strong>内部资源</strong>，则视图解析器可以使用<strong>InternalResourceViewResolver</strong>内部资源视图解析器。此时处理器方法返回的字符串就是要跳转页面的文件名去掉文件扩展名后的部分。这个字符串与视图解析器中的prefix、suffix相结合，即可形成要访问的URI。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 定义视图解析器 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewResolver<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 设置前缀 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token comment">&lt;!-- 	设置后缀 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_2-返回view对象名"><a href="#_2-返回view对象名" class="header-anchor">#</a> （2）返回View对象名</h4> <p>若要跳转的资源为<strong>外部资源</strong>，则视图解析器可以使用<strong>BeanNameViewResolver</strong>，然后在配置文件中再定义一些外部资源视图View对象，此时处理器方法返回的字符串就是要跳转资源视图View的名称。当然，这些视图View对象，可以是内部资源视图View对象。</p> <div class="language-xml extra-class"><pre class="language-xml"><code>	<span class="token comment">&lt;!--定义视图解析器2--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.BeanNameViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--定义内部资源视图--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>intenalView<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.JstlView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/register.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--定义外部资源视图--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>taobao<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.RedirectView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.taobao.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-返回void"><a href="#_3-返回void" class="header-anchor">#</a> 3，返回void</h3> <p>对于处理器方法返回void的应用场景，主要有两种：</p> <ul><li>ServletAPI</li> <li>AJAX响应</li></ul> <h4 id="_1-通过servletapi传递数据并完成跳转"><a href="#_1-通过servletapi传递数据并完成跳转" class="header-anchor">#</a> （1）通过ServletAPI传递数据并完成跳转</h4> <p>通过在处理器方法的参数中放入的ServletAPI参数，来完成资源跳转时所要传递的数据及跳转。</p> <p>可在方法参数中放入HttpServletRequest或HttpSession，使方法中可以直接将数据放入到<strong>request、session</strong>的域中，也可通过request.getServletContext()获取到ServletContext，从而将数据放入到<strong>application</strong>的域中。</p> <p>可在方法参数中放入HttpServletRequest与HttpServletResponse，使方法可以完成请求转发与重定向。</p> <p>注意，<strong>重定向是无法完成对/WEB-INF/下资源的访问的</strong>。</p> <ul><li>请求转发：request.getRequestDispatcher(“目标页面”).forward(request,response);</li> <li>重定向：response.sendRedirect(“目标页面”)</li></ul> <h4 id="_2-ajax响应"><a href="#_2-ajax响应" class="header-anchor">#</a> （2）AJAX响应</h4> <p>若处理器对请求处理后，无需跳转到其它任何资源，此时可以让处理器方法返回void。例如，对于AJAX的异步请求的响应。</p> <p>示例如下</p> <p>由于本项目中服务端向浏览器传回的是JSON（JavaScript Object Notation，JS对象符号）数据，需要使用一个工具类将字符串包装为JSON格式，所以需要导入JSON的Jar包。</p> <p><strong>json-lib-2.3-jdk15.jar和4个依赖包。</strong></p> <p>由于本项目要使用jQuery的ajax()方法提交AJAX请求，所以项目中需要引入jQuery的库。</p> <p><strong>jquery-3.5.1.min.js包</strong></p> <p>前端页面代码如下，返回的是字符串数据所有需要使用eval方法来转成json数据。</p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;script type=&quot;text/javascript&quot;
	src=&quot;${pageContext.request.contextPath}/js/jquery-3.5.1.min.js&quot;&gt;
&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
	$(function(){
		$(&quot;button&quot;).click(function(){
		    alert(&quot;111111&quot;);
			$.ajax({
				url:&quot;t.do&quot;,
				data:{
					name:&quot;李四&quot;,
					age:15
				},
			    success:function(data){
			    	var myJson=eval(&quot;(&quot; + data + &quot;)&quot;);
				    alert(myJson.name+&quot;  &quot;+myJson.age);
			       }
		 }); 
		});
	});
&lt;/script&gt;
&lt;body&gt;
	&lt;button&gt;输出&lt;/button&gt;
&lt;/body&gt;
</code></pre></div><p>控制层处理方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/* @RequestMapping(value = &quot;/t.do&quot;, produces = &quot;text/html;charset=UTF-8&quot;) */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/t.do&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
		<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">/* 将map转成json再转成字符串 */</span>
		<span class="token class-name">JSONObject</span> myjson <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> jsonString <span class="token operator">=</span> myjson<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">/* 将数据返回客户端 */</span>
		response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
		out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-返回object"><a href="#_4-返回object" class="header-anchor">#</a> 4，返回object</h3> <p>处理器方法也可以返回Object对象。但返回的这个Object对象不是作为逻辑视图出现的，而是作为直接在页面显示的数据出现的。返回Object对象，需要使用@ResponseBody注解，将转换后的JSON数据放入到响应体中。</p> <p><strong>环境搭建</strong></p> <p>A，导入jar包</p> <ul><li>jackson-annotations-2.12.2.jar</li> <li>jackson-core-2.12.2.jar</li> <li>jackson-databind-2.12.2.jar</li></ul> <p>B，注册注解驱动</p> <p>将Object数据转化为JSON数据，需要由Http消息转换器<strong>HttpMessageConverter</strong>完成。而转换器的开启，需要由mvc:annotation-driven来完成。当Spring容器进行初始化过程中，在mvc:annotation-driven处创建注解驱动时，默认创建了七个HttpMessageConverter对象。</p> <p><strong>也就是说，我们注册mvc:annotation-driven，就是为了让容器为我们创建HttpMessageConverter对象。</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>具体实操如下</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/* 1，返回数值型对象 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;my.do&quot;</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@ResponseBody</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">mytest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">21314</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/* 2，返回字符串对象 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;String.do&quot;</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span>
	<span class="token comment">/* @RequestMapping(value = &quot;String.do&quot;) */</span>
	<span class="token annotation punctuation">@ResponseBody</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token class-name">Stringtest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;字符串测试oc&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/* 3，返回自定义类型对象 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;User.do&quot;</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@ResponseBody</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token class-name">Usertest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;21314&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> user<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/* 4，返回Map集合 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;Map.do&quot;</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@ResponseBody</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token class-name">Maptest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;311414&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> map<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">/* 5，返回List集合 */</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;List.do&quot;</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@ResponseBody</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token class-name">Listtest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;大1阿达&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;311414&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> list<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>需要注意的是接收到List数据，如何输出</p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;script type=&quot;text/javascript&quot;&gt;
	$(function(){
		$(&quot;button&quot;).click(function(){
			$.ajax({
				url:&quot;List.do&quot;,
			    success:function(data){
			    	$(data).each(function(index){
			    		alert(data[index].username+&quot; &quot;+data[index].password);
			    	});
				    alert(data[0].username+&quot;444 &quot;+data[0].password);
			       }
		 }); 
		});
	});
&lt;/script&gt;
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vuepress/edit/master/docs/springmvc/sprngmvcSecond.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/dose1/assets/js/app.370f2ecb.js" defer></script><script src="/dose1/assets/js/2.579f079f.js" defer></script><script src="/dose1/assets/js/27.a5ca9c28.js" defer></script>
  </body>
</html>
