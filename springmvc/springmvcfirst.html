<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringMVC配置式开发 | 有空看看</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/dose1/assets/css/0.styles.c9546c7c.css" as="style"><link rel="preload" href="/dose1/assets/js/app.370f2ecb.js" as="script"><link rel="preload" href="/dose1/assets/js/2.579f079f.js" as="script"><link rel="preload" href="/dose1/assets/js/26.fa63a29b.js" as="script"><link rel="prefetch" href="/dose1/assets/js/10.15b385d2.js"><link rel="prefetch" href="/dose1/assets/js/11.7719a193.js"><link rel="prefetch" href="/dose1/assets/js/12.7a3b1235.js"><link rel="prefetch" href="/dose1/assets/js/13.bf569039.js"><link rel="prefetch" href="/dose1/assets/js/14.f04af72a.js"><link rel="prefetch" href="/dose1/assets/js/15.cae4f64f.js"><link rel="prefetch" href="/dose1/assets/js/16.28681f08.js"><link rel="prefetch" href="/dose1/assets/js/17.54584c3d.js"><link rel="prefetch" href="/dose1/assets/js/18.4b466fb7.js"><link rel="prefetch" href="/dose1/assets/js/19.882f21ee.js"><link rel="prefetch" href="/dose1/assets/js/20.6d8d7aa6.js"><link rel="prefetch" href="/dose1/assets/js/21.ed3f43c1.js"><link rel="prefetch" href="/dose1/assets/js/22.b9fd778f.js"><link rel="prefetch" href="/dose1/assets/js/23.2563d097.js"><link rel="prefetch" href="/dose1/assets/js/24.33dab2d6.js"><link rel="prefetch" href="/dose1/assets/js/25.35b2c93b.js"><link rel="prefetch" href="/dose1/assets/js/27.a5ca9c28.js"><link rel="prefetch" href="/dose1/assets/js/28.c8d6aeb7.js"><link rel="prefetch" href="/dose1/assets/js/29.bc350787.js"><link rel="prefetch" href="/dose1/assets/js/3.dddbab9e.js"><link rel="prefetch" href="/dose1/assets/js/4.dacb7f3f.js"><link rel="prefetch" href="/dose1/assets/js/5.516cbc1e.js"><link rel="prefetch" href="/dose1/assets/js/6.c1a5c5b5.js"><link rel="prefetch" href="/dose1/assets/js/7.eb3c1009.js"><link rel="prefetch" href="/dose1/assets/js/8.7ced4e1e.js"><link rel="prefetch" href="/dose1/assets/js/9.fb95937f.js">
    <link rel="stylesheet" href="/dose1/assets/css/0.styles.c9546c7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dose1/" class="home-link router-link-active"><img src="/dose1/assets/img/logo.jpg" alt="有空看看" class="logo"> <span class="site-name can-hide">有空看看</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dose1/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/datarepo/mysql/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/mybefore/mybase/前端基础.html" class="nav-link">
  三件套
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myjQuery/jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myajax/ajax.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue3/Vue3.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/springpre/pre.html" class="nav-link">
  spring前言
</a></li><li class="dropdown-item"><!----> <a href="/dose1/springmvc/springmvc.html" class="nav-link">
  springMVC
</a></li><li class="dropdown-item"><!----> <a href="/dose1/SpringBoot2/SpringBootFirst.html" class="nav-link">
  springBoot2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/one.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/other/newJava.html" class="nav-link">
  java8新特性
</a></li><li class="dropdown-item"><!----> <a href="/dose1/other/HashMap.html" class="nav-link">
  hashmap
</a></li><li class="dropdown-item"><!----> <a href="https://jojo-995.gitee.io/2021/03/06/markdown-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div> <a href="https://github.com/jack110959/dose1" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dose1/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/datarepo/mysql/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/mybefore/mybase/前端基础.html" class="nav-link">
  三件套
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myjQuery/jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myajax/ajax.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue2/Vue1.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/mybefore/myVue/Vue3/Vue3.html" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/springpre/pre.html" class="nav-link">
  spring前言
</a></li><li class="dropdown-item"><!----> <a href="/dose1/springmvc/springmvc.html" class="nav-link">
  springMVC
</a></li><li class="dropdown-item"><!----> <a href="/dose1/SpringBoot2/SpringBootFirst.html" class="nav-link">
  springBoot2
</a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/one.html" class="nav-link">
  备用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dose1/other/newJava.html" class="nav-link">
  java8新特性
</a></li><li class="dropdown-item"><!----> <a href="/dose1/other/HashMap.html" class="nav-link">
  hashmap
</a></li><li class="dropdown-item"><!----> <a href="https://jojo-995.gitee.io/2021/03/06/markdown-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dose1/foo/two.html" class="nav-link">
  备用
</a></li></ul></div></div> <a href="https://github.com/jack110959/dose1" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Springmvc</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dose1/springmvc/springmvc.html" class="sidebar-link">SpringMvc总体</a></li><li><a href="/dose1/springmvc/springmvcfirst.html" aria-current="page" class="active sidebar-link">SpringMVC配置式开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_1-处理器映射器handlermapping" class="sidebar-link">1，处理器映射器HandlerMapping</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_1-beannameurlhandlermapping" class="sidebar-link">（1）BeanNameUrlHandlerMapping</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_2-simpleurlhandlermapping" class="sidebar-link">（2）SimpleUrlHandlerMapping</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_3-源码分析" class="sidebar-link">（3）源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_2-处理器适配器handleradapter" class="sidebar-link">2，处理器适配器HandlerAdapter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_1-源码分析" class="sidebar-link">（1）源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_3-处理器" class="sidebar-link">3，处理器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_1-abstractcontroller" class="sidebar-link">（1）AbstractController</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_4-modelandview" class="sidebar-link">4，ModelAndView</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_1-模型" class="sidebar-link">（1）模型</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_2-视图" class="sidebar-link">（2）视图</a></li></ul></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_5-视图解析器" class="sidebar-link">5，视图解析器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_1-internalresourceviewresolver-默认" class="sidebar-link">（1）InternalResourceViewResolver（默认）</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_2-beannameviewresolver" class="sidebar-link">（2）BeanNameViewResolver</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_3-xmlviewresolver" class="sidebar-link">（3）XmlViewResolver</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_4-resourcebundleviewresolver" class="sidebar-link">（4）ResourceBundleViewResolver</a></li><li class="sidebar-sub-header"><a href="/dose1/springmvc/springmvcfirst.html#_4-视图解析器的优先级" class="sidebar-link">（4）视图解析器的优先级</a></li></ul></li></ul></li><li><a href="/dose1/springmvc/sprngmvcSecond.html" class="sidebar-link">SpringMVC注解式开发</a></li><li><a href="/dose1/springmvc/sprngmvcThird.html" class="sidebar-link">SpringMVC核心技术</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="springmvc配置式开发"><a href="#springmvc配置式开发" class="header-anchor">#</a> SpringMVC配置式开发</h1> <h2 id="_1-处理器映射器handlermapping"><a href="#_1-处理器映射器handlermapping" class="header-anchor">#</a> 1，处理器映射器HandlerMapping</h2> <p><strong>HandlerMapping</strong>接口负责根据request请求找到对应的Handler处理器及Interceptor拦截器，并将它们封装在HandlerExecutionChain对象中，返回给中央调度器。</p> <p>编写位置，一般在<servlet>标签内的<param-value>引入的springmvc-comfig.xml文件中，在不配置的情况下，<strong>默认的配置处理器映射器</strong>：</param-value></servlet></p> <p><strong>BeanNameUrlHandlerMapping和DefaultAnnotationHandlerMapping。</strong></p> <p>HandlerMapping接口常用的实现类有两种：BeanNameUrlHandlerMapping和SimpleUrlHandlerMapping</p> <p>优缺点：<strong>在这里只是粗略提及一下，详细的需要看下面的解释。</strong></p> <p>​             BeanNameUrlHandlerMapping：一个请求url只能对应的一个类，所以如果想多个请求url使用同一个映射器则需要多创建几个处理器的bean。</p> <p>​               SimpleUrlHandlerMapping：不仅可以将url与处理器的定义分离，还可以对url进行统一映射管理。也就是在定义处理器时可以使用子标签（两种）对所有url进行统一管理。</p> <p>需要注意的是在实际开发中，都是采用注解式的方法，也就是在xml中对控制类所在的包进行扫包，然后创建控制类，在类中，使用@Controller对类进行注解，使用@RequestMapping(value = &quot;/toRegister&quot;)对类中的方法进行注解，value值为映射路径。</p> <p>下面就依次解释一下两种常用映射器的功能及使用。</p> <h3 id="_1-beannameurlhandlermapping"><a href="#_1-beannameurlhandlermapping" class="header-anchor">#</a> （1）BeanNameUrlHandlerMapping</h3> <p>BeanNameUrlHandlerMapping处理器映射器，会根据请求的url与spring容器中定义的处理器bean的name属性值进行匹配，从而在spring容器中找到处理器bean实例</p> <p>首先使用方法，先在springmvc-comfig.xml文件中注册处理器映射器，因为默认就是这个所以也可以不用写，然后就是需要注册处理器，处理器name的值为访问路径url的映射，类HelloController是实现了Controller接口的实现类，在类中实现了handleRequest方法，该方法返回的是一个ModelAndView对象。</p> <p>springmvc-comfig.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 注册处理器 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/firstController<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.controller.HelloController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 处理器映射器 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>HelloController类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> arg0<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> arg1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token class-name">ModelAndView</span> mav <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mav<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mav<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> mav<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后就是打开类的源码，该类中只有一个determineUrlsForHandler方法，从方法中可以看出，**对于处理器的Bean的名称，必须以“/”开头，否则无法加入到urls数组中。**而urls数组中的url则是中央调度器用于判定“该url所对应的类是否作为处理器交给处理器适配器进行适配”的依据。这也是处理器与其它普通Bean的区别。</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210523170916359.png" alt="image-20210523170916359"></p> <h3 id="_2-simpleurlhandlermapping"><a href="#_2-simpleurlhandlermapping" class="header-anchor">#</a> （2）SimpleUrlHandlerMapping</h3> <p>SimpleUrlHandlerMapping处理器映射器，会根据请求的url与Spring容器中定义的处理器映射器子标签的key属性进行匹配。匹配上后，再将该key的value值与处理器bean的id值进行匹配，从而在spring容器中找到处理器bean。</p> <p>这样也就实现了url和处理器的分离，url的映射都放在了定义映射器的子标签<property>中。</property></p> <p>下面简单介绍的一下两种使用方法</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 注册处理器，注意这里的name属性的值是没有斜杠的--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstController<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.controller.HelloController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 注册处理器后，再选择下面任意一个方法配置即可--&gt;</span>

<span class="token comment">&lt;!-- 下面为使用mappings的方法，key属性的值为映射路径，&lt;prop&gt;标签内的值firstController则为上面处理器的值，表示当路径为key属性的值，使用firstController处理器，--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span>
	<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.SimpleUrlHandlerMapping<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappings<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>firstController<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello/y<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>firstController<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello/y<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>MyController<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 这里也可以映射其他处理器--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 下面为使用urlMap的方法--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.SimpleUrlHandlerMapping<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>urlMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello/l<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello/t<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/t<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/t<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-源码分析"><a href="#_3-源码分析" class="header-anchor">#</a> （3）源码分析</h3> <p>打开org.springframework.web.servlet.DispatcherServlet文件，先找到**doDispatch()**方法，方法中定义了一个mappedHandler用来存入并返回处理器执行链</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210523181455166.png" alt="image-20210523181455166"></p> <p>注释为给请求选择一个handler，也就是上面的两个映射器或其他映射器</p> <p>注释下面则为调用本类中的<strong>getHandeler</strong>方法，参数为处理后的request对象，将返回的处理器执行链存入到全局变量处理器执行链mappedHandler。</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210523181209823.png" alt="image-20210523181209823"></p> <p>下面也是在DispatcherServlet类中，也就是本类的<strong>getHandeler</strong>方法，在方法中使用foreach，依次创建handleMAppings中的映射器对象hm，然后再调用hm的gethandler方法，参数也是request。this.hanlerMappings存放的是handlerMapping接口的所有实现类。</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210523195701551.png" alt="image-20210523195701551"></p> <p>下面就是上面hm调用的getHandler方法，找到处理器之后将处理器和request对象封装到执行链进行返回。</p> <p>需要注意的是最终的执行链返回值中一般会有处理器和拦截器，处理器有一个方法，拦截器有3个方法，这4个方法的执行会有先后顺序，这个在后面拦截器中会有解释，一般处理器的方法会是第二个执行方法。</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210524171956096.png" alt="image-20210524171956096"></p> <h2 id="_2-处理器适配器handleradapter"><a href="#_2-处理器适配器handleradapter" class="header-anchor">#</a> 2，处理器适配器HandlerAdapter</h2> <p>一般默认的适配器接口有下面的3个</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210525174728698.png" alt="image-20210525174728698"></p> <p>SimpleControllerHandlerAdapter接口和HttpRequestHandlerAdapter接口的<strong>区别</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*实现SimpleControllerHandlerAdapter接口的代码，该接口方法如下*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> arg0<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> arg1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token class-name">ModelAndView</span> mav <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mav<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Controller&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mav<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> mav<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
实现HttpRequestHandlerAdapter接口的代码，该接口方法如下
这里使用转发时视图解析器会无效，具体不清楚  
一般只能使用转发，因为是从内部访问资源，在WEB-INF文件下的资源一般只能从内部进行访问，所以使用重定向会访问不到资源（即使路径对了）
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token keyword">implements</span> <span class="token class-name">HttpRequestHandler</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;HttpRequestHandler&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/jsp/success.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><h3 id="_1-源码分析"><a href="#_1-源码分析" class="header-anchor">#</a> （1）源码分析</h3> <p>简单的说就是，在DispatcherServlet类的doDispatch方法中，用执行链对象mappedHandler中的<strong>处理器</strong>作为形参，调用getHandlerAdapter方法获取适配器，在getHandlerAdapter方法中使用foreach依次创建适配器对象，再调用适配器的supports(handler)方法，如果该适配器的supports返回值为true，就返回该适配器。</p> <p>首先在doDispatch方法中获取适配器</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210525173923950.png" alt="image-20210525173923950"></p> <p>然后就是查看上面的getHandlerAdapter方法，在该方法，通过调用每个适配器中的supports来确认需要用哪个适配器，this.handlerAdapters里面存的就是3个默认的适配器接口对象</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210525174229357.png" alt="image-20210525174229357"></p> <p>然后就是查看上面的supports方法，一般适配器的遍历顺序跟上面的适配器图的顺序一致，不过我们一般在控制层实现的都是Controller接口，所有在这里就只查看SimpleControllerHandlerAdapter适配器的supports方法</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210525175457604.png" alt="image-20210525175457604"></p> <p>到这里我们就已经了解适配器是如何获取的了，接下来就是看适配器的使用，在在DispatcherServlet的doDispatch方法中进行往下就会看到适配器对象调用了handle方法来获取ModelAndView对象。</p> <img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210525175929024.png" alt="image-20210525175929024" style="zoom:200%;"> <p>接下来就是查看适配器的handle的方法了，同样在这里我们也只查看SimpleControllerHandlerAdapter适配器的handle方法，在方法先将处理器强转成适配器然后再调用handleRequest，这个方法也就是我们自己在控制类中实现的方法</p> <p><img src="https://raw.githubusercontent.com/jack110959/pictures/main/imgimage-20210525180440585.png" alt="image-20210525180440585"></p> <h2 id="_3-处理器"><a href="#_3-处理器" class="header-anchor">#</a> 3，处理器</h2> <h3 id="_1-abstractcontroller"><a href="#_1-abstractcontroller" class="header-anchor">#</a> （1）AbstractController</h3> <p>首先查看AbstractController类的代码，该类的定义中实现了Controller接口</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractController</span> <span class="token keyword">extends</span> <span class="token class-name">WebContentGenerator</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>再看类中的方法，这是一个模板设计方法，最后返回的handleRequestInternal(request, response)方法是一个需要子类重写的抽象方法，一般在控制层继承AbstractController类并重写该方法。在前面的适配器源码分析我们可以了解到在获取到适配器之后会使用适配器对象调用handle方法，然后在handle方法中会对处理器进行适配之后再调用handleRequest方法，这里的方法就是下面的方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
			<span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">HttpMethod</span><span class="token punctuation">.</span>OPTIONS<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span> <span class="token function">getAllowHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Delegate to WebContentGenerator for checking and preparing.</span>
		<span class="token function">checkRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">prepareResponse</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Execute handleRequestInternal in synchronized block if required.</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>synchronizeOnSession<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">Object</span> mutex <span class="token operator">=</span> <span class="token class-name">WebUtils</span><span class="token punctuation">.</span><span class="token function">getSessionMutex</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">synchronized</span> <span class="token punctuation">(</span>mutex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token function">handleRequestInternal</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">handleRequestInternal</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>模板方法需要子类编写的方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequestInternal</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
			<span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>最后需要注意的一点就是<strong>请求方式的限制</strong>，在WebContentGenerator类定义了一个属性来限制请求方式</p> <p><code>private Set&lt;String&gt; supportedMethods</code>，又因为处理器继承于它，所以同样也会有限制</p> <p>在定义处理器时可以实现如下方法来限制只能接收哪些方法的请求，value中的值表示可以获取请求的方法。</p> <p>由于使用post方法请求会更加安全，所以我们一般使value的值为post，来限制get方法的请求，这样就只有post方法能够请求到资源，而使用get方法则会报出405错误。（一般只有<strong>表单</strong>和<strong>ajax</strong>能够进行post请求）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;/my&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.controller.MyController&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;supportedMethods&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;post&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_4-modelandview"><a href="#_4-modelandview" class="header-anchor">#</a> 4，ModelAndView</h2> <p>ModelAndView即模型与视图，通过addObject()方法向模型中添加数据，通过setViewName()方法向模型添加视图名称。</p> <p>查看源码，下面只截取出<strong>属性部分</strong>，可以看出model的本质就是一个ModelMap对象。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ModelAndView</span> <span class="token punctuation">{</span>

	<span class="token comment">/** View instance or view name String */</span>
	<span class="token keyword">private</span> <span class="token class-name">Object</span> view<span class="token punctuation">;</span>

	<span class="token comment">/** Model Map */</span>
	<span class="token keyword">private</span> <span class="token class-name">ModelMap</span> model<span class="token punctuation">;</span>

	<span class="token comment">/** Optional HTTP status for the response */</span>
	<span class="token keyword">private</span> <span class="token class-name">HttpStatus</span> status<span class="token punctuation">;</span>

	<span class="token comment">/** Indicates whether or not this instance has been cleared with a call to {@link #clear()} */</span>
	<span class="token keyword">private</span> <span class="token keyword">boolean</span> cleared <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ModelMap继承于LinkedHashMap&lt;String, Object&gt;类。LinkedHashMap的本质是一个HashMap（继承关系），但其将Entry内部类进行了扩展。<strong>HashMap</strong>中的Entry是<strong>单向的</strong>，只能通过next查找下一个元素。而<strong>LinkedHashMap</strong>中的Entry变为了<strong>双向的</strong>，可以通过before查找上一个元素，通过after查找下一个元素。即从性能上说，LinkedHashMap的操作性能要高于HashMap。</p> <h3 id="_1-模型"><a href="#_1-模型" class="header-anchor">#</a> （1）模型</h3> <p>查看ModelAndView类源码跟踪addObject()方法，可以知道这里的模型就是ModelMap，而ModelMap的本质就是个HashMap（数组加单向链表），向模型中添加数据，就是向HashMap中添加数据。</p> <p><strong>addObject()方法</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">addObject</span><span class="token punctuation">(</span><span class="token class-name">String</span> attributeName<span class="token punctuation">,</span> <span class="token class-name">Object</span> attributeValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">getModelMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span>attributeName<span class="token punctuation">,</span> attributeValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>getModelMap()方法</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ModelMap</span> <span class="token function">getModelMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

</code></pre></div><p>然后继续查看ModelMap类发现该类继承于LinkedHashMap类（双向链表的HashMap）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ModelMap</span> <span class="token keyword">extends</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><h3 id="_2-视图"><a href="#_2-视图" class="header-anchor">#</a> （2）视图</h3> <p>通过setViewName()指定视图名称。注意，这里的视图名称将会对应一个视图对象，一般是不会在这里直接写上要跳转的页面的。这个视图对象，将会被封装在ModelAndView中，传给视图解析器来解析，最终转换为相应的页面。但需要注意的是，这里的View对象本质仅仅是一个String而矣。后续的步骤中，还会继续对这个View对象进行进一步的封装。</p> <p><strong>setViewName()方法</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token class-name">String</span> viewName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>view <span class="token operator">=</span> viewName<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-视图解析器"><a href="#_5-视图解析器" class="header-anchor">#</a> 5，视图解析器</h2> <p>视图解析器ViewResolver接口负责将处理结果生成View视图。常用的实现类有四种</p> <p>原理大概就是在控制层设置视图名，然后四种实现都有属于自己的一种处理方法</p> <h3 id="_1-internalresourceviewresolver-默认"><a href="#_1-internalresourceviewresolver-默认" class="header-anchor">#</a> （1）InternalResourceViewResolver（默认）</h3> <p>该视图解析器用于完成对当前Web应用内部资源的封装与跳转。而对于内部资源的查找规则是，将ModelAndView中指定的视图名称与为视图解析器配置的前辍与后辍相结合的方式，拼接成一个Web应用内部资源路径。拼接规则是：**前辍+ 视图名称+ 后辍。**InternalResourceView解析器会把处理器方法返回的模型属性都存放到对应的request中，然后将请求转发到目标URL。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ModelAndView</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>当然，若不指定前辍与后辍，直接将内部资源路径写到setViewName()中也可以。相当于前辍与后辍均为空串。</p> <p>注册视图解析器。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 定义视图解析器 <span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;viewResolver&quot;</span>
		<span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 设置前缀 <span class="token operator">--</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;prefix&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;/WEB-INF/jsp/&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 设置后缀 <span class="token operator">--</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;suffix&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;.jsp&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-beannameviewresolver"><a href="#_2-beannameviewresolver" class="header-anchor">#</a> （2）BeanNameViewResolver</h3> <p>InternalResourceViewResolver解析器存在两个问题，使其使用很不灵活：</p> <p>1.只可以完成将内部资源封装后的跳转。但无法转向外部资源，如外部网页。</p> <p>2对于内部资源的定义，也只能定义一种格式的资源：存放于同一目录的同一文件类型的资源文件。</p> <p>BeanNameViewResolver视图解析器，顾名思义就是将资源封装为“Spring容器中注册的Bean实例”，<strong>ModelAndView通过设置视图名称为该Bean的id属性值来完成对该资源的访问</strong>。所以在springmvc.xml中，可以定义多个View视图Bean，让处理器中ModelAndView通过对这些Bean的id的引用来完成向View中封装资源的跳转。</p> <p>使用方法，bean的id对应视图名称，需要注意的在使用<strong>内部资源视图类</strong>时需要导入standard.jar和jstl.jar，否则可能会报出java.lang.NoClassDefFoundError：javax.servlet.jsp.jstl.core.config错误</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 定义视图解析器 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.BeanNameViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 定义内部资源视图 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>intenalView<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.JstlView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/register.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 定义外部资源视图 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>taobao<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.RedirectView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.taobao.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-xmlviewresolver"><a href="#_3-xmlviewresolver" class="header-anchor">#</a> （3）XmlViewResolver</h3> <p>当需要定义的View视图对象很多时，就会使springmvc.xml文件变得很大，很臃肿，不便于管理。所以可以将这些View视图对象专门抽取出来，单独定义为一个xml文件。这时就需要使用XmlViewResolver解析器了。</p> <p>在配置文件中定义视图解析器，View视图对象都存入了myView.xml中</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.XmlViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>location<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:myView.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>myView.xml的配置信息与配置文件一致，需要自己写的就是下面的bean对象</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 定义内部资源视图 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>intenalView<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.JstlView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/register.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 定义外部资源视图 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>taobao<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.RedirectView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.taobao.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jd<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.RedirectView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.baidu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_4-resourcebundleviewresolver"><a href="#_4-resourcebundleviewresolver" class="header-anchor">#</a> （4）ResourceBundleViewResolver</h3> <p>对于View视图对象的注册，除了使用xml文件外，也可以在properties文件中进行注册。只不过，此时的视图解析器需要更换为ResourceBundleViewResolver解析器。</p> <p>该属性文件需要定义在类路径下，即src下。而对于属性文件的写法，是有格式要求的：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">资源名称.(class)</span><span class="token punctuation">=</span><span class="token attr-value">封装资源的View全限定性类名</span>
<span class="token attr-name">资源名称.url</span><span class="token punctuation">=</span><span class="token attr-value">资源路径</span>
</code></pre></div><p>使用方法，先注册视图解析器</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.ResourceBundleViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basename<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后再创建一个File文件，名为myView.properties</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">intenalView.(class)</span><span class="token punctuation">=</span><span class="token attr-value">org.springframework.web.servlet.view.JstlView</span>
<span class="token attr-name">intenalView.url</span><span class="token punctuation">=</span><span class="token attr-value">/WEB-INF/jsp/register.jsp</span>

<span class="token attr-name">taobao.(class)</span><span class="token punctuation">=</span><span class="token attr-value">org.springframework.web.servlet.view.RedirectView</span>
<span class="token attr-name">taobao.url</span><span class="token punctuation">=</span><span class="token attr-value">http://www.taobao.com</span>

<span class="token attr-name">jd.(class)</span><span class="token punctuation">=</span><span class="token attr-value">org.springframework.web.servlet.view.RedirectView</span>
<span class="token attr-name">jd.url</span><span class="token punctuation">=</span><span class="token attr-value">http://www.jd.com</span>
</code></pre></div><h3 id="_4-视图解析器的优先级"><a href="#_4-视图解析器的优先级" class="header-anchor">#</a> （4）视图解析器的优先级</h3> <p>有时经常需要应用一些视图解析器策略来解析视图名称，即当同时存在多个视图解析器均可解析ModelAndView中的同一视图名称时，哪个视图解析器会起作用呢？视图解析器有一个order属性，专门用于设置多个视图解析器的优先级。<strong>数字越小，优先级越高</strong>。**数字相同（或都不设置order属性），先注册的优先级高。**一般不为InternalResourceViewResolver解析器指定优先级，即让其优先级是最低的。</p> <p>比如下面代码视图解析器4的order为2，比3低，所以优先级高，会先使用视图解析器4对指定的视图名称进行处理</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 定义视图解析器3 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.XmlViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>location<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:myView.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 定义视图解析器4 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.ResourceBundleViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basename<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vuepress/edit/master/docs/springmvc/springmvcfirst.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">5/29/2021, 5:06:33 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/dose1/assets/js/app.370f2ecb.js" defer></script><script src="/dose1/assets/js/2.579f079f.js" defer></script><script src="/dose1/assets/js/26.fa63a29b.js" defer></script>
  </body>
</html>
